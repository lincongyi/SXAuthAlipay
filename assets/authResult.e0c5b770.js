import{r as n,O as h,Q as I,e as v,o as u,c,a as i,f as g,u as d,w as y,t as B,F as C,as as D,ao as A,d as k,g as F,aj as L,B as S}from"./normalize.07298e93.js";import{D as z}from"./index.0e8fd7f3.js";import{a as N,c as T}from"./certification-successful.526fe7c8.js";import{I as U}from"./index.fecaba0f.js";import{V}from"./vconsole.min.b6d0b4d7.js";const O={class:"container"},P={class:"auth-result"},R=k("\u52A0\u8F7D\u5931\u8D25"),j={class:"description"},M={class:"btn-wrap"},X=k("\u8FD4\u56DE"),q={setup(E){const x=[{mode:[16,64],type:1},{mode:[18,66],type:2}],m=[{resultTxt:"\u8BA4\u8BC1\u6210\u529F",resultImage:N},{resultTxt:"\u8BA4\u8BC1\u5931\u8D25",resultImage:T}],o=n(0),l=n(""),_=h(()=>{let a=[{key:"\u5B9E\u540D\u6821\u9A8C",value:2},{key:"\u4EBA\u50CF\u6BD4\u5BF9",value:2}];if(o.value){let{type:t}=x.find(e=>e.mode.includes(o.value)),s=l.value.slice(0,t);for(let e=0;e<s.length;e++){let r=Number(s[e])===0?1:0;a[e].value=r}}return a}),p=h(()=>l.value&&_.value.find(t=>!t.value)?1:0),f=n(""),b=()=>{!f.value||AlipayJSBridge.call("closeWebview")};return I(()=>{let t="https://sfrz.wsbs.shxga.gov.cn/sxauthalipay/authResult.html?mode=66&resStr=00XX&foreBackUrl=null&chInfo=ch_share__chsub_CopyLink&fxzjshareChinfo=ch_share__chsub_CopyLink&apshareid=B46DAA8D-BA8D-44F7-8B3F-36B9332F1414&shareBizType=mrfxzw".substring(window.location.href.indexOf("?")+1);if(!t.includes("&"))return z.alert({message:"\u8DEF\u5F84\u53C2\u6570\u6709\u9519\uFF0C\u8BF7\u91CD\u65B0\u83B7\u53D6"});const e=t.substring(0,t.indexOf("&foreBackUrl")).split("&");o.value=Number(e[0].replace(/mode=/g,"")),l.value=e[1].replace(/resStr=/g,""),f.value=t.substring(t.indexOf("foreBackUrl")).replace(/foreBackUrl=/g,"")}),(a,t)=>{const s=v("van-image"),e=v("van-button");return u(),c("div",O,[i("div",P,[g(s,{class:"result-image",src:m[d(p)].resultImage},{error:y(()=>[R]),_:1},8,["src"]),i("div",j,B(m[d(p)].resultTxt),1)]),(u(!0),c(C,null,D(d(_),(r,w)=>(u(),c("div",{key:w,class:A(["step",["failed","successful"][r.value]])},B(r.key),3))),128)),i("div",M,[g(e,{type:"primary",block:"",onClick:b},{default:y(()=>[X]),_:1})])])}}};new V;F(q).use(L).use(U).use(S).mount("#app");
