import{h as k,n as R,u as S,i as I,j as U,k as P,l as $,f as o,m as x,q as B,s as M,v as q,r as d,e as c,o as G,c as z,w as m,x as _,y as h,a as A,d as f,g as F,B as L}from"./normalize.f2eadb3f.js";import{c as D,s as O,a as N,F as j,b as H,C as K}from"./index.0e8c205a.js";import"./index.4a7d1510.js";const[C,Y]=k("radio-group"),J={disabled:Boolean,iconSize:R,direction:String,modelValue:S,checkedColor:String},T=Symbol(C);var Q=I({name:C,props:J,emits:["change","update:modelValue"],setup(e,{emit:u,slots:s}){const{linkChildren:t}=U(T),r=l=>u("update:modelValue",l);return P(()=>e.modelValue,l=>u("change",l)),t({props:e,updateValue:r}),$(()=>e.modelValue),()=>{var l;return o("div",{class:Y([e.direction]),role:"radiogroup"},[(l=s.default)==null?void 0:l.call(s)])}}});const W=x(Q),[X,Z]=k("radio");var ee=I({name:X,props:D,emits:["update:modelValue"],setup(e,{emit:u,slots:s}){const{parent:t}=B(T),r=()=>(t?t.props.modelValue:e.modelValue)===e.name,l=()=>{t?t.updateValue(e.name):u("update:modelValue",e.name)};return()=>o(O,q({bem:Z,role:"radio",parent:t,checked:r(),onToggle:l},e),M(s,["default","icon"]))}});const ae=x(ee);function le(e){return N({baseURL:"http://gat.shaanxi.gov.cn/auth",url:"/getaccesstoken",method:"get",params:e})}function oe(e){return N({baseURL:"http://gat.shaanxi.gov.cn/auth",url:"/authreq",method:"post",data:e})}const te={class:"form-wrap"},ne=f("\u516C\u4F17\u53F7or\u751F\u6D3B\u53F7"),ue=f("MINI PROGRAM"),se={style:{margin:"16px"}},re=f("\u63D0\u4EA4"),de={setup(e){const u=d({}.VITE_CLIENT_ID)||d(""),s=d({}.VITE_CLIENT_SECRET)||d(""),t=d(66),r=d(""),l=d(""),p=d("MINI"),y=async()=>{let{accessToken:b}=await le({clientId:u.value,clientSecret:s.value}),a={accessToken:b,authType:"GzhRegular",mode:t.value,extraParams:{foreBackUrl:location.href},businessInfo:{subject:"\u8EAB\u4EFD\u9A8C\u8BC1"},idInfo:{fullName:r.value,idNum:l.value}},{tokenInfo:i}=await oe(a),{certToken:g}=i,v=p.value||"MINI",V=`${{}.NODE_ENV==="production","http://gat.shaanxi.gov.cn/auth"}/authgzh/auth2?certToken=${g}&env=${v}`;window.location.replace(V)};return(b,a)=>{const i=c("van-field"),g=c("van-cell-group"),v=c("van-radio"),V=c("van-radio-group"),w=c("van-button"),E=c("van-form");return G(),z("div",te,[o(E,{onSubmit:y},{default:m(()=>[o(g,{inset:""},{default:m(()=>[o(i,{modelValue:_(u),"onUpdate:modelValue":a[0]||(a[0]=n=>h(u)?u.value=n:null),name:"\u8D26\u53F7",label:"\u8D26\u53F7",placeholder:"\u8D26\u53F7",clearable:"",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u8D26\u53F7"}]},null,8,["modelValue"]),o(i,{modelValue:_(s),"onUpdate:modelValue":a[1]||(a[1]=n=>h(s)?s.value=n:null),type:"clientSecret",name:"\u5BC6\u7801",label:"\u5BC6\u7801",placeholder:"\u5BC6\u7801",clearable:"",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5BC6\u7801"}]},null,8,["modelValue"]),o(i,{modelValue:t.value,"onUpdate:modelValue":a[2]||(a[2]=n=>t.value=n),name:"\u8BA4\u8BC1\u6A21\u5F0F",label:"\u8BA4\u8BC1\u6A21\u5F0F",placeholder:"\u8BA4\u8BC1\u6A21\u5F0F",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u8BA4\u8BC1\u6A21\u5F0F"}]},null,8,["modelValue"]),o(i,{modelValue:_(r),"onUpdate:modelValue":a[3]||(a[3]=n=>h(r)?r.value=n:null),name:"\u59D3\u540D",label:"\u59D3\u540D",maxlength:"18",placeholder:"\u59D3\u540D"},null,8,["modelValue"]),o(i,{modelValue:_(l),"onUpdate:modelValue":a[4]||(a[4]=n=>h(l)?l.value=n:null),name:"\u8BC1\u4EF6\u53F7\u7801",label:"\u8BC1\u4EF6\u53F7\u7801",maxlength:"18",placeholder:"\u8BC1\u4EF6\u53F7\u7801"},null,8,["modelValue"])]),_:1}),o(V,{class:"radio-box",modelValue:p.value,"onUpdate:modelValue":a[5]||(a[5]=n=>p.value=n),direction:"horizontal"},{default:m(()=>[o(v,{name:"H5"},{default:m(()=>[ne]),_:1}),o(v,{name:"MINI"},{default:m(()=>[ue]),_:1})]),_:1},8,["modelValue"]),A("div",se,[o(w,{round:"",block:"",type:"primary","native-type":"submit"},{default:m(()=>[re]),_:1})])]),_:1})])}}};F(de).use(L).use(j).use(H).use(K).use(ae).use(W).mount("#app");
