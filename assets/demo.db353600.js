import{r as o,e as m,o as T,c as k,f as a,w as f,u as c,i,a as x,d as I,g as y,B as N}from"./normalize.5e74b651.js";import{s as b,F as U,a as E,C,N as w}from"./index.3f379514.js";function B(n){return b({baseURL:"http://gat.shaanxi.gov.cn/auth/authlife",url:"/getaccesstoken",method:"get",params:n})}function R(n){return b({baseURL:"http://gat.shaanxi.gov.cn/auth/authlife",url:"/authreq",method:"post",data:n})}const S={class:"form-wrap"},L={style:{margin:"16px"}},q=I("\u63D0\u4EA4"),A={setup(n){const u=o({}.VITE_CLIENT_ID)||o(""),s=o({}.VITE_CLIENT_SECRET)||o(""),p=o(66),r=o(""),d=o(""),g=async()=>{let{accessToken:V}=await B({clientId:u.value,clientSecret:s.value}),e={accessToken:V,authType:"GzhRegular",mode:p.value,extraParams:{foreBackUrl:location.href},businessInfo:{subject:"\u8EAB\u4EFD\u9A8C\u8BC1"},idInfo:{fullName:r.value,idNum:d.value}},{tokenInfo:t}=await R(e),{certToken:_}=t,v=`${{}.VITE_PROXY_AUTH_BASE_URL}/auth?certToken=${_}`;window.location.replace(v)};return(V,e)=>{const t=m("van-field"),_=m("van-cell-group"),v=m("van-button"),h=m("van-form");return T(),k("div",S,[a(h,{onSubmit:g},{default:f(()=>[a(_,{inset:""},{default:f(()=>[a(t,{modelValue:c(u),"onUpdate:modelValue":e[0]||(e[0]=l=>i(u)?u.value=l:null),name:"\u8D26\u53F7",label:"\u8D26\u53F7",placeholder:"\u8D26\u53F7",clearable:"",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u8D26\u53F7"}]},null,8,["modelValue"]),a(t,{modelValue:c(s),"onUpdate:modelValue":e[1]||(e[1]=l=>i(s)?s.value=l:null),type:"clientSecret",name:"\u5BC6\u7801",label:"\u5BC6\u7801",placeholder:"\u5BC6\u7801",clearable:"",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5BC6\u7801"}]},null,8,["modelValue"]),a(t,{modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=l=>p.value=l),name:"\u8BA4\u8BC1\u6A21\u5F0F",label:"\u8BA4\u8BC1\u6A21\u5F0F",placeholder:"\u8BA4\u8BC1\u6A21\u5F0F",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u8BA4\u8BC1\u6A21\u5F0F"}]},null,8,["modelValue"]),a(t,{modelValue:c(r),"onUpdate:modelValue":e[3]||(e[3]=l=>i(r)?r.value=l:null),name:"\u59D3\u540D",label:"\u59D3\u540D",maxlength:"18",placeholder:"\u59D3\u540D"},null,8,["modelValue"]),a(t,{modelValue:c(d),"onUpdate:modelValue":e[4]||(e[4]=l=>i(d)?d.value=l:null),name:"\u8BC1\u4EF6\u53F7\u7801",label:"\u8BC1\u4EF6\u53F7\u7801",maxlength:"18",placeholder:"\u8BC1\u4EF6\u53F7\u7801"},null,8,["modelValue"])]),_:1}),x("div",L,[a(v,{round:"",block:"",type:"primary","native-type":"submit"},{default:f(()=>[q]),_:1})])]),_:1})])}}};y(A).use(N).use(U).use(E).use(C).use(w).mount("#app");
