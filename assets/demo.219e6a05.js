var lo=Object.defineProperty,co=Object.defineProperties;var fo=Object.getOwnPropertyDescriptors;var te=Object.getOwnPropertySymbols;var ze=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable;var Ue=(t,i,s)=>i in t?lo(t,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[i]=s,je=(t,i)=>{for(var s in i||(i={}))ze.call(i,s)&&Ue(t,s,i[s]);if(te)for(var s of te(i))Ke.call(i,s)&&Ue(t,s,i[s]);return t},Ge=(t,i)=>co(t,fo(i));var Ye=(t,i)=>{var s={};for(var a in t)ze.call(t,a)&&i.indexOf(a)<0&&(s[a]=t[a]);if(t!=null&&te)for(var a of te(t))i.indexOf(a)<0&&Ke.call(t,a)&&(s[a]=t[a]);return s};import{i as ho,j as Ie,k as Gt,d as Nt,m as ee,u as mo,l as xo,n as Ze,q as vn,r as $,s as po,v as go,x as st,g as V,y as yn,z as _t,A as St,C as vo,D as $t,E as bn,G as yo,H as vt,L as bo,I as To,J as Je,K as wo,M as Tn,N as Se,O as pt,P as Ce,Q as Ee,R as gt,S as ge,f as xt,o as Xe,c as We,w as ct,F as Fo,T as Qe,U as tn,V as Bo,a as fe,e as Lt,h as Do,B as Io}from"./normalize.729e6abb.js";import{s as wn,v as Ae,T as So,D as Co}from"./index.f01a553a.js";import{l as ae}from"./index.73831807.js";import{u as Eo,a as Yt,P as Ao}from"./certification-successful.6420e1bd.js";import{F as Po,a as Mo,C as Ro}from"./index.8be760f7.js";import{R as Vo,a as ko}from"./index.d63e21f0.js";import"./logo.9e2f423b.js";function ce(t){if(!ho(t))return t;if(Array.isArray(t))return t.map(i=>ce(i));if(Ie(t)){const i={};return Object.keys(t).forEach(s=>{i[s]=ce(t[s])}),i}return t}const en=200,nn=300,_o=15,[Fn,ve]=Gt("picker-column");function Oo(t){const{transform:i}=window.getComputedStyle(t),s=i.slice(7,i.length-1).split(", ")[5];return Number(s)}const Bn=Symbol(Fn),ye=t=>Ie(t)&&t.disabled;var qo=Nt({name:Fn,props:{textKey:ee(String),readonly:Boolean,allowHtml:Boolean,className:mo,itemHeight:ee(Number),defaultIndex:xo(0),swipeDuration:ee(Ze),initialOptions:vn(),visibleItemCount:ee(Ze)},emits:["change"],setup(t,{emit:i,slots:s}){let a,u,r,c,h;const x=$(),d=po({index:t.defaultIndex,offset:0,duration:0,options:ce(t.initialOptions)}),B=Eo(),b=()=>d.options.length,S=()=>t.itemHeight*(+t.visibleItemCount-1)/2,P=y=>{y=_t(y,0,b());for(let g=y;g<b();g++)if(!ye(d.options[g]))return g;for(let g=y-1;g>=0;g--)if(!ye(d.options[g]))return g},v=(y,g)=>{y=P(y)||0;const _=-y*t.itemHeight,O=()=>{y!==d.index&&(d.index=y,g&&i("change",y))};a&&_!==d.offset?h=O:O(),d.offset=_},p=y=>{JSON.stringify(y)!==JSON.stringify(d.options)&&(d.options=ce(y),v(t.defaultIndex))},D=y=>{a||t.readonly||(h=null,d.duration=en,v(y,!0))},C=y=>Ie(y)&&t.textKey in y?y[t.textKey]:y,I=y=>_t(Math.round(-y/t.itemHeight),0,b()-1),k=(y,g)=>{const _=Math.abs(y/g);y=d.offset+_/.003*(y<0?-1:1);const O=I(y);d.duration=+t.swipeDuration,v(O,!0)},R=()=>{a=!1,d.duration=0,h&&(h(),h=null)},L=y=>{if(!t.readonly){if(B.start(y),a){const g=Oo(x.value);d.offset=Math.min(0,g-S()),u=d.offset}else u=d.offset;d.duration=0,r=Date.now(),c=u,h=null}},H=y=>{if(t.readonly)return;B.move(y),B.isVertical()&&(a=!0,yn(y,!0)),d.offset=_t(u+B.deltaY.value,-(b()*t.itemHeight),t.itemHeight);const g=Date.now();g-r>nn&&(r=g,c=d.offset)},K=()=>{if(t.readonly)return;const y=d.offset-c,g=Date.now()-r;if(g<nn&&Math.abs(y)>_o){k(y,g);return}const O=I(d.offset);d.duration=en,v(O,!0),setTimeout(()=>{a=!1},0)},rt=()=>{const y={height:`${t.itemHeight}px`};return d.options.map((g,_)=>{const O=C(g),j=ye(g),G={role:"button",style:y,tabindex:j?-1:0,class:ve("item",{disabled:j,selected:_===d.index}),onClick:()=>D(_)},Q={class:"van-ellipsis",[t.allowHtml?"innerHTML":"textContent"]:O};return V("li",G,[s.option?s.option(g):V("div",Q,null)])})},N=y=>{const{options:g}=d;for(let _=0;_<g.length;_++)if(C(g[_])===y)return v(_)},J=()=>d.options[d.index];return v(d.index),go(Bn),Yt({state:d,setIndex:v,getValue:J,setValue:N,setOptions:p,stopMomentum:R}),st(()=>t.initialOptions,p),st(()=>t.defaultIndex,y=>v(y)),()=>V("div",{class:[ve(),t.className],onTouchstart:L,onTouchmove:H,onTouchend:K,onTouchcancel:K},[V("ul",{ref:x,style:{transform:`translate3d(0, ${d.offset+S()}px, 0)`,transitionDuration:`${d.duration}ms`,transitionProperty:d.duration?"all":"none"},class:ve("wrapper"),onTransitionend:R},[rt()])])}});const[Ho,wt,on]=Gt("picker"),Pe={title:String,loading:Boolean,readonly:Boolean,allowHtml:Boolean,itemHeight:St(44),showToolbar:vo,swipeDuration:St(1e3),visibleItemCount:St(6),cancelButtonText:String,confirmButtonText:String},No=$t({},Pe,{columns:vn(),valueKey:String,defaultIndex:St(0),toolbarPosition:bn("top"),columnsFieldNames:Object});var $o=Nt({name:Ho,props:No,emits:["confirm","cancel","change"],setup(t,{emit:i,slots:s}){const a=$(!1),u=$([]),{text:r,values:c,children:h}=$t({text:t.valueKey||"text",values:"values",children:"children"},t.columnsFieldNames),{children:x,linkChildren:d}=yo(Bn);d();const B=vt(()=>To(t.itemHeight)),b=vt(()=>{const w=t.columns[0];if(typeof w=="object"){if(h in w)return"cascade";if(c in w)return"object"}return"plain"}),S=()=>{var w;const A=[];let E={[h]:t.columns};for(;E&&E[h];){const mt=E[h];let bt=(w=E.defaultIndex)!=null?w:+t.defaultIndex;for(;mt[bt]&&mt[bt].disabled;)if(bt<mt.length-1)bt++;else{bt=0;break}A.push({[c]:E[h],className:E.className,defaultIndex:bt}),E=mt[bt]}u.value=A},P=()=>{const{columns:w}=t;b.value==="plain"?u.value=[{[c]:w}]:b.value==="cascade"?S():u.value=w,a.value=u.value.some(A=>A[c]&&A[c].length!==0)},v=()=>x.map(w=>w.state.index),p=(w,A)=>{const E=x[w];E&&(E.setOptions(A),a.value=!0)},D=w=>{let A={[h]:t.columns};const E=v();for(let mt=0;mt<=w;mt++)A=A[h][E[mt]];for(;A&&A[h];)w++,p(w,A[h]),A=A[h][A.defaultIndex||0]},C=w=>x[w],I=w=>{const A=C(w);if(A)return A.getValue()},k=(w,A)=>{const E=C(w);E&&(E.setValue(A),b.value==="cascade"&&D(w))},R=w=>{const A=C(w);if(A)return A.state.index},L=(w,A)=>{const E=C(w);E&&(E.setIndex(A),b.value==="cascade"&&D(w))},H=w=>{const A=C(w);if(A)return A.state.options},K=()=>x.map(w=>w.getValue()),rt=w=>{w.forEach((A,E)=>{k(E,A)})},N=w=>{w.forEach((A,E)=>{L(E,A)})},J=w=>{b.value==="plain"?i(w,I(0),R(0)):i(w,K(),v())},y=w=>{b.value==="cascade"&&D(w),b.value==="plain"?i("change",I(0),R(0)):i("change",K(),w)},g=()=>{x.forEach(w=>w.stopMomentum()),J("confirm")},_=()=>J("cancel"),O=()=>{if(s.title)return s.title();if(t.title)return V("div",{class:[wt("title"),"van-ellipsis"]},[t.title])},j=()=>{const w=t.cancelButtonText||on("cancel");return V("button",{type:"button",class:[wt("cancel"),Je],onClick:_},[s.cancel?s.cancel():w])},G=()=>{const w=t.confirmButtonText||on("confirm");return V("button",{type:"button",class:[wt("confirm"),Je],onClick:g},[s.confirm?s.confirm():w])},Q=()=>{if(t.showToolbar){const w=s.toolbar||s.default;return V("div",{class:wt("toolbar")},[w?w():[j(),O(),G()]])}},ht=()=>u.value.map((w,A)=>{var E;return V(qo,{textKey:r,readonly:t.readonly,allowHtml:t.allowHtml,className:w.className,itemHeight:B.value,defaultIndex:(E=w.defaultIndex)!=null?E:+t.defaultIndex,swipeDuration:t.swipeDuration,initialOptions:w[c],visibleItemCount:t.visibleItemCount,onChange:()=>y(A)},{option:s.option})}),yt=w=>{if(a.value){const A={height:`${B.value}px`},E={backgroundSize:`100% ${(w-B.value)/2}px`};return[V("div",{class:wt("mask"),style:E},null),V("div",{class:[wo,wt("frame")],style:A},null)]}},dt=()=>{const w=B.value*+t.visibleItemCount,A={height:`${w}px`};return V("div",{class:wt("columns"),style:A,onTouchmove:yn},[ht(),yt(w)])};return st(()=>t.columns,P,{immediate:!0}),Yt({confirm:g,getValues:K,setValues:rt,getIndexes:v,setIndexes:N,getColumnIndex:R,setColumnIndex:L,getColumnValue:I,setColumnValue:k,getColumnValues:H,setColumnValues:p}),()=>{var w,A;return V("div",{class:wt()},[t.toolbarPosition==="top"?Q():null,t.loading?V(bo,{class:wt("loading")},null):null,(w=s["columns-top"])==null?void 0:w.call(s),dt(),(A=s["columns-bottom"])==null?void 0:A.call(s),t.toolbarPosition==="bottom"?Q():null])}}});const Me=Tn($o),Dn=$t({},Pe,{filter:Function,columnsOrder:Array,formatter:{type:Function,default:(t,i)=>i}}),In=Object.keys(Pe);function Sn(t,i){if(t<0)return[];const s=Array(t);let a=-1;for(;++a<t;)s[a]=i(a);return s}function Lo(t){if(!t)return 0;for(;Number.isNaN(parseInt(t,10));)if(t.length>1)t=t.slice(1);else return 0;return parseInt(t,10)}const sn=(t,i)=>32-new Date(t,i-1,32).getDate(),Cn=(t,i)=>{const s=["setValues","setIndexes","setColumnIndex","setColumnValue"];return new Proxy(t,{get:(a,u)=>s.includes(u)?(...r)=>{a[u](...r),i()}:a[u]})},[Uo]=Gt("time-picker");var Re=Nt({name:Uo,props:$t({},Dn,{minHour:St(0),maxHour:St(23),minMinute:St(0),maxMinute:St(59),modelValue:String}),emits:["confirm","cancel","change","update:modelValue"],setup(t,{emit:i,slots:s}){const a=v=>{const{minHour:p,maxHour:D,maxMinute:C,minMinute:I}=t;v||(v=`${gt(p)}:${gt(I)}`);let[k,R]=v.split(":");return k=gt(_t(+k,+p,+D)),R=gt(_t(+R,+I,+C)),`${k}:${R}`},u=$(),r=$(a(t.modelValue)),c=vt(()=>[{type:"hour",range:[+t.minHour,+t.maxHour]},{type:"minute",range:[+t.minMinute,+t.maxMinute]}]),h=vt(()=>c.value.map(({type:v,range:p})=>{let D=Sn(p[1]-p[0]+1,C=>gt(p[0]+C));return t.filter&&(D=t.filter(v,D)),{type:v,values:D}})),x=vt(()=>h.value.map(v=>({values:v.values.map(p=>t.formatter(v.type,p))}))),d=()=>{const v=r.value.split(":"),p=[t.formatter("hour",v[0]),t.formatter("minute",v[1])];pt(()=>{var D;(D=u.value)==null||D.setValues(p)})},B=()=>{const[v,p]=u.value.getIndexes(),[D,C]=h.value,I=D.values[v]||D.values[0],k=C.values[p]||C.values[0];r.value=a(`${I}:${k}`),d()},b=()=>i("confirm",r.value),S=()=>i("cancel"),P=()=>{B(),pt(()=>{pt(()=>i("change",r.value))})};return Se(()=>{d(),pt(B)}),st(x,d),st(()=>[t.filter,t.maxHour,t.minMinute,t.maxMinute],B),st(()=>t.minHour,()=>{pt(B)}),st(r,v=>i("update:modelValue",v)),st(()=>t.modelValue,v=>{v=a(v),v!==r.value&&(r.value=v,d())}),Yt({getPicker:()=>u.value&&Cn(u.value,B)}),()=>V(Me,Ce({ref:u,columns:x.value,onChange:P,onCancel:S,onConfirm:b},Ee(t,In)),s)}});const rn=new Date().getFullYear(),[zo]=Gt("date-picker");var Ve=Nt({name:zo,props:$t({},Dn,{type:bn("datetime"),modelValue:Date,minDate:{type:Date,default:()=>new Date(rn-10,0,1),validator:ge},maxDate:{type:Date,default:()=>new Date(rn+10,11,31),validator:ge}}),emits:["confirm","cancel","change","update:modelValue"],setup(t,{emit:i,slots:s}){const a=p=>{if(ge(p)){const D=_t(p.getTime(),t.minDate.getTime(),t.maxDate.getTime());return new Date(D)}},u=$(),r=$(a(t.modelValue)),c=(p,D)=>{const C=t[`${p}Date`],I=C.getFullYear();let k=1,R=1,L=0,H=0;return p==="max"&&(k=12,R=sn(D.getFullYear(),D.getMonth()+1),L=23,H=59),D.getFullYear()===I&&(k=C.getMonth()+1,D.getMonth()+1===k&&(R=C.getDate(),D.getDate()===R&&(L=C.getHours(),D.getHours()===L&&(H=C.getMinutes())))),{[`${p}Year`]:I,[`${p}Month`]:k,[`${p}Date`]:R,[`${p}Hour`]:L,[`${p}Minute`]:H}},h=vt(()=>{const{maxYear:p,maxDate:D,maxMonth:C,maxHour:I,maxMinute:k}=c("max",r.value||t.minDate),{minYear:R,minDate:L,minMonth:H,minHour:K,minMinute:rt}=c("min",r.value||t.minDate);let N=[{type:"year",range:[R,p]},{type:"month",range:[H,C]},{type:"day",range:[L,D]},{type:"hour",range:[K,I]},{type:"minute",range:[rt,k]}];switch(t.type){case"date":N=N.slice(0,3);break;case"year-month":N=N.slice(0,2);break;case"month-day":N=N.slice(1,3);break;case"datehour":N=N.slice(0,4);break}if(t.columnsOrder){const J=t.columnsOrder.concat(N.map(y=>y.type));N.sort((y,g)=>J.indexOf(y.type)-J.indexOf(g.type))}return N}),x=vt(()=>h.value.map(({type:p,range:D})=>{let C=Sn(D[1]-D[0]+1,I=>gt(D[0]+I));return t.filter&&(C=t.filter(p,C)),{type:p,values:C}})),d=vt(()=>x.value.map(p=>({values:p.values.map(D=>t.formatter(p.type,D))}))),B=()=>{const p=r.value||t.minDate,{formatter:D}=t,C=x.value.map(I=>{switch(I.type){case"year":return D("year",`${p.getFullYear()}`);case"month":return D("month",gt(p.getMonth()+1));case"day":return D("day",gt(p.getDate()));case"hour":return D("hour",gt(p.getHours()));case"minute":return D("minute",gt(p.getMinutes()));default:return""}});pt(()=>{var I;(I=u.value)==null||I.setValues(C)})},b=()=>{const{type:p}=t,D=u.value.getIndexes(),C=N=>{let J=0;x.value.forEach((g,_)=>{N===g.type&&(J=_)});const{values:y}=x.value[J];return Lo(y[D[J]])};let I,k,R;p==="month-day"?(I=(r.value||t.minDate).getFullYear(),k=C("month"),R=C("day")):(I=C("year"),k=C("month"),R=p==="year-month"?1:C("day"));const L=sn(I,k);R=R>L?L:R;let H=0,K=0;p==="datehour"&&(H=C("hour")),p==="datetime"&&(H=C("hour"),K=C("minute"));const rt=new Date(I,k-1,R,H,K);r.value=a(rt)},S=()=>{i("update:modelValue",r.value),i("confirm",r.value)},P=()=>i("cancel"),v=()=>{b(),pt(()=>{b(),pt(()=>i("change",r.value))})};return Se(()=>{B(),pt(b)}),st(d,B),st(r,(p,D)=>i("update:modelValue",D?p:null)),st(()=>[t.filter,t.minDate,t.maxDate],()=>{pt(b)}),st(()=>t.modelValue,p=>{var D;p=a(p),p&&p.valueOf()!==((D=r.value)==null?void 0:D.valueOf())&&(r.value=p)}),Yt({getPicker:()=>u.value&&Cn(u.value,b)}),()=>V(Me,Ce({ref:u,columns:d.value,onChange:v,onCancel:P,onConfirm:S},Ee(t,In)),s)}});const[Ko,jo]=Gt("datetime-picker"),Go=Object.keys(Re.props),Yo=Object.keys(Ve.props),Zo=$t({},Re.props,Ve.props,{modelValue:[String,Date]});var Jo=Nt({name:Ko,props:Zo,setup(t,{attrs:i,slots:s}){const a=$();return Yt({getPicker:()=>{var u;return(u=a.value)==null?void 0:u.getPicker()}}),()=>{const u=t.type==="time",r=u?Re:Ve,c=Ee(t,u?Go:Yo);return V(r,Ce({ref:a,class:jo()},c,i),s)}}});const Xo=Tn(Jo);var Wo=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};const{VITE_DEMO_BASE_URL:En,VITE_V3_BASE_URL:ke}=ae();function Qo(t){return wn({baseURL:En,url:"/getaccesstoken",method:"get",params:t})}function ts(t){return wn({baseURL:En,url:"/authreq",method:"post",data:t})}function es(t){return Ae({baseURL:ke,url:"/simpauth",method:"post",data:t})}function ns(t){return Ae({baseURL:ke,url:"/gawzauthreq",method:"post",data:t})}function is(t){return Ae({baseURL:ke,url:"/nogawzauthreq",method:"post",data:t})}let ne;const os=new Uint8Array(16);function ss(){if(!ne&&(ne=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ne))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ne(os)}const Y=[];for(let t=0;t<256;++t)Y.push((t+256).toString(16).slice(1));function rs(t,i=0){return(Y[t[i+0]]+Y[t[i+1]]+Y[t[i+2]]+Y[t[i+3]]+"-"+Y[t[i+4]]+Y[t[i+5]]+"-"+Y[t[i+6]]+Y[t[i+7]]+"-"+Y[t[i+8]]+Y[t[i+9]]+"-"+Y[t[i+10]]+Y[t[i+11]]+Y[t[i+12]]+Y[t[i+13]]+Y[t[i+14]]+Y[t[i+15]]).toLowerCase()}const as=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var an={randomUUID:as};function un(t,i,s){if(an.randomUUID&&!i&&!t)return an.randomUUID();t=t||{};const a=t.random||(t.rng||ss)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,i){s=s||0;for(let u=0;u<16;++u)i[s+u]=a[u];return i}return rs(a)}var Zt={exports:{}};(function(t,i){(function(){var s,a=0xdeadbeefcafe,u=(a&16777215)==15715070;function r(e,n,o){e!=null&&(typeof e=="number"?this.fromNumber(e,n,o):n==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,n))}function c(){return new r(null)}function h(e,n,o,l,f,m){for(;--m>=0;){var T=n*this[e++]+o[l]+f;f=Math.floor(T/67108864),o[l++]=T&67108863}return f}function x(e,n,o,l,f,m){for(var T=n&32767,F=n>>15;--m>=0;){var q=this[e]&32767,z=this[e++]>>15,it=F*q+z*T;q=T*q+((it&32767)<<15)+o[l]+(f&1073741823),f=(q>>>30)+(it>>>15)+F*z+(f>>>30),o[l++]=q&1073741823}return f}function d(e,n,o,l,f,m){for(var T=n&16383,F=n>>14;--m>=0;){var q=this[e]&16383,z=this[e++]>>14,it=F*q+z*T;q=T*q+((it&16383)<<14)+o[l]+f,f=(q>>28)+(it>>14)+F*z,o[l++]=q&268435455}return f}var B=typeof navigator!="undefined";B&&u&&navigator.appName=="Microsoft Internet Explorer"?(r.prototype.am=x,s=30):B&&u&&navigator.appName!="Netscape"?(r.prototype.am=h,s=26):(r.prototype.am=d,s=28),r.prototype.DB=s,r.prototype.DM=(1<<s)-1,r.prototype.DV=1<<s;var b=52;r.prototype.FV=Math.pow(2,b),r.prototype.F1=b-s,r.prototype.F2=2*s-b;var S="0123456789abcdefghijklmnopqrstuvwxyz",P=new Array,v,p;for(v="0".charCodeAt(0),p=0;p<=9;++p)P[v++]=p;for(v="a".charCodeAt(0),p=10;p<36;++p)P[v++]=p;for(v="A".charCodeAt(0),p=10;p<36;++p)P[v++]=p;function D(e){return S.charAt(e)}function C(e,n){var o=P[e.charCodeAt(n)];return o==null?-1:o}function I(e){for(var n=this.t-1;n>=0;--n)e[n]=this[n];e.t=this.t,e.s=this.s}function k(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function R(e){var n=c();return n.fromInt(e),n}function L(e,n){var o;if(n==16)o=4;else if(n==8)o=3;else if(n==256)o=8;else if(n==2)o=1;else if(n==32)o=5;else if(n==4)o=2;else{this.fromRadix(e,n);return}this.t=0,this.s=0;for(var l=e.length,f=!1,m=0;--l>=0;){var T=o==8?e[l]&255:C(e,l);if(T<0){e.charAt(l)=="-"&&(f=!0);continue}f=!1,m==0?this[this.t++]=T:m+o>this.DB?(this[this.t-1]|=(T&(1<<this.DB-m)-1)<<m,this[this.t++]=T>>this.DB-m):this[this.t-1]|=T<<m,m+=o,m>=this.DB&&(m-=this.DB)}o==8&&(e[0]&128)!=0&&(this.s=-1,m>0&&(this[this.t-1]|=(1<<this.DB-m)-1<<m)),this.clamp(),f&&r.ZERO.subTo(this,this)}function H(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function K(e){if(this.s<0)return"-"+this.negate().toString(e);var n;if(e==16)n=4;else if(e==8)n=3;else if(e==2)n=1;else if(e==32)n=5;else if(e==4)n=2;else return this.toRadix(e);var o=(1<<n)-1,l,f=!1,m="",T=this.t,F=this.DB-T*this.DB%n;if(T-- >0)for(F<this.DB&&(l=this[T]>>F)>0&&(f=!0,m=D(l));T>=0;)F<n?(l=(this[T]&(1<<F)-1)<<n-F,l|=this[--T]>>(F+=this.DB-n)):(l=this[T]>>(F-=n)&o,F<=0&&(F+=this.DB,--T)),l>0&&(f=!0),f&&(m+=D(l));return f?m:"0"}function rt(){var e=c();return r.ZERO.subTo(this,e),e}function N(){return this.s<0?this.negate():this}function J(e){var n=this.s-e.s;if(n!=0)return n;var o=this.t;if(n=o-e.t,n!=0)return this.s<0?-n:n;for(;--o>=0;)if((n=this[o]-e[o])!=0)return n;return 0}function y(e){var n=1,o;return(o=e>>>16)!=0&&(e=o,n+=16),(o=e>>8)!=0&&(e=o,n+=8),(o=e>>4)!=0&&(e=o,n+=4),(o=e>>2)!=0&&(e=o,n+=2),(o=e>>1)!=0&&(e=o,n+=1),n}function g(){return this.t<=0?0:this.DB*(this.t-1)+y(this[this.t-1]^this.s&this.DM)}function _(e,n){var o;for(o=this.t-1;o>=0;--o)n[o+e]=this[o];for(o=e-1;o>=0;--o)n[o]=0;n.t=this.t+e,n.s=this.s}function O(e,n){for(var o=e;o<this.t;++o)n[o-e]=this[o];n.t=Math.max(this.t-e,0),n.s=this.s}function j(e,n){var o=e%this.DB,l=this.DB-o,f=(1<<l)-1,m=Math.floor(e/this.DB),T=this.s<<o&this.DM,F;for(F=this.t-1;F>=0;--F)n[F+m+1]=this[F]>>l|T,T=(this[F]&f)<<o;for(F=m-1;F>=0;--F)n[F]=0;n[m]=T,n.t=this.t+m+1,n.s=this.s,n.clamp()}function G(e,n){n.s=this.s;var o=Math.floor(e/this.DB);if(o>=this.t){n.t=0;return}var l=e%this.DB,f=this.DB-l,m=(1<<l)-1;n[0]=this[o]>>l;for(var T=o+1;T<this.t;++T)n[T-o-1]|=(this[T]&m)<<f,n[T-o]=this[T]>>l;l>0&&(n[this.t-o-1]|=(this.s&m)<<f),n.t=this.t-o,n.clamp()}function Q(e,n){for(var o=0,l=0,f=Math.min(e.t,this.t);o<f;)l+=this[o]-e[o],n[o++]=l&this.DM,l>>=this.DB;if(e.t<this.t){for(l-=e.s;o<this.t;)l+=this[o],n[o++]=l&this.DM,l>>=this.DB;l+=this.s}else{for(l+=this.s;o<e.t;)l-=e[o],n[o++]=l&this.DM,l>>=this.DB;l-=e.s}n.s=l<0?-1:0,l<-1?n[o++]=this.DV+l:l>0&&(n[o++]=l),n.t=o,n.clamp()}function ht(e,n){var o=this.abs(),l=e.abs(),f=o.t;for(n.t=f+l.t;--f>=0;)n[f]=0;for(f=0;f<l.t;++f)n[f+o.t]=o.am(0,l[f],n,f,0,o.t);n.s=0,n.clamp(),this.s!=e.s&&r.ZERO.subTo(n,n)}function yt(e){for(var n=this.abs(),o=e.t=2*n.t;--o>=0;)e[o]=0;for(o=0;o<n.t-1;++o){var l=n.am(o,n[o],e,2*o,0,1);(e[o+n.t]+=n.am(o+1,2*n[o],e,2*o+1,l,n.t-o-1))>=n.DV&&(e[o+n.t]-=n.DV,e[o+n.t+1]=1)}e.t>0&&(e[e.t-1]+=n.am(o,n[o],e,2*o,0,1)),e.s=0,e.clamp()}function dt(e,n,o){var l=e.abs();if(!(l.t<=0)){var f=this.abs();if(f.t<l.t){n!=null&&n.fromInt(0),o!=null&&this.copyTo(o);return}o==null&&(o=c());var m=c(),T=this.s,F=e.s,q=this.DB-y(l[l.t-1]);q>0?(l.lShiftTo(q,m),f.lShiftTo(q,o)):(l.copyTo(m),f.copyTo(o));var z=m.t,it=m[z-1];if(it!=0){var et=it*(1<<this.F1)+(z>1?m[z-2]>>this.F2:0),Tt=this.FV/et,Wt=(1<<this.F1)/et,ut=1<<this.F2,lt=o.t,Qt=lt-z,Ft=n==null?c():n;for(m.dlShiftTo(Qt,Ft),o.compareTo(Ft)>=0&&(o[o.t++]=1,o.subTo(Ft,o)),r.ONE.dlShiftTo(z,Ft),Ft.subTo(m,m);m.t<z;)m[m.t++]=0;for(;--Qt>=0;){var pe=o[--lt]==it?this.DM:Math.floor(o[lt]*Tt+(o[lt-1]+ut)*Wt);if((o[lt]+=m.am(0,pe,o,Qt,0,z))<pe)for(m.dlShiftTo(Qt,Ft),o.subTo(Ft,o);o[lt]<--pe;)o.subTo(Ft,o)}n!=null&&(o.drShiftTo(z,n),T!=F&&r.ZERO.subTo(n,n)),o.t=z,o.clamp(),q>0&&o.rShiftTo(q,o),T<0&&r.ZERO.subTo(o,o)}}}function w(e){var n=c();return this.abs().divRemTo(e,null,n),this.s<0&&n.compareTo(r.ZERO)>0&&e.subTo(n,n),n}function A(e){this.m=e}function E(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function mt(e){return e}function bt(e){e.divRemTo(this.m,null,e)}function Ln(e,n,o){e.multiplyTo(n,o),this.reduce(o)}function Un(e,n){e.squareTo(n),this.reduce(n)}A.prototype.convert=E,A.prototype.revert=mt,A.prototype.reduce=bt,A.prototype.mulTo=Ln,A.prototype.sqrTo=Un;function zn(){if(this.t<1)return 0;var e=this[0];if((e&1)==0)return 0;var n=e&3;return n=n*(2-(e&15)*n)&15,n=n*(2-(e&255)*n)&255,n=n*(2-((e&65535)*n&65535))&65535,n=n*(2-e*n%this.DV)%this.DV,n>0?this.DV-n:-n}function At(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function Kn(e){var n=c();return e.abs().dlShiftTo(this.m.t,n),n.divRemTo(this.m,null,n),e.s<0&&n.compareTo(r.ZERO)>0&&this.m.subTo(n,n),n}function jn(e){var n=c();return e.copyTo(n),this.reduce(n),n}function Gn(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var n=0;n<this.m.t;++n){var o=e[n]&32767,l=o*this.mpl+((o*this.mph+(e[n]>>15)*this.mpl&this.um)<<15)&e.DM;for(o=n+this.m.t,e[o]+=this.m.am(0,l,e,n,0,this.m.t);e[o]>=e.DV;)e[o]-=e.DV,e[++o]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function Yn(e,n){e.squareTo(n),this.reduce(n)}function Zn(e,n,o){e.multiplyTo(n,o),this.reduce(o)}At.prototype.convert=Kn,At.prototype.revert=jn,At.prototype.reduce=Gn,At.prototype.mulTo=Zn,At.prototype.sqrTo=Yn;function Jn(){return(this.t>0?this[0]&1:this.s)==0}function Xn(e,n){if(e>4294967295||e<1)return r.ONE;var o=c(),l=c(),f=n.convert(this),m=y(e)-1;for(f.copyTo(o);--m>=0;)if(n.sqrTo(o,l),(e&1<<m)>0)n.mulTo(l,f,o);else{var T=o;o=l,l=T}return n.revert(o)}function Wn(e,n){var o;return e<256||n.isEven()?o=new A(n):o=new At(n),this.exp(e,o)}r.prototype.copyTo=I,r.prototype.fromInt=k,r.prototype.fromString=L,r.prototype.clamp=H,r.prototype.dlShiftTo=_,r.prototype.drShiftTo=O,r.prototype.lShiftTo=j,r.prototype.rShiftTo=G,r.prototype.subTo=Q,r.prototype.multiplyTo=ht,r.prototype.squareTo=yt,r.prototype.divRemTo=dt,r.prototype.invDigit=zn,r.prototype.isEven=Jn,r.prototype.exp=Xn,r.prototype.toString=K,r.prototype.negate=rt,r.prototype.abs=N,r.prototype.compareTo=J,r.prototype.bitLength=g,r.prototype.mod=w,r.prototype.modPowInt=Wn,r.ZERO=R(0),r.ONE=R(1);function Qn(){var e=c();return this.copyTo(e),e}function ti(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function ei(){return this.t==0?this.s:this[0]<<24>>24}function ni(){return this.t==0?this.s:this[0]<<16>>16}function ii(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function oi(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function si(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var n=this.chunkSize(e),o=Math.pow(e,n),l=R(o),f=c(),m=c(),T="";for(this.divRemTo(l,f,m);f.signum()>0;)T=(o+m.intValue()).toString(e).substr(1)+T,f.divRemTo(l,f,m);return m.intValue().toString(e)+T}function ri(e,n){this.fromInt(0),n==null&&(n=10);for(var o=this.chunkSize(n),l=Math.pow(n,o),f=!1,m=0,T=0,F=0;F<e.length;++F){var q=C(e,F);if(q<0){e.charAt(F)=="-"&&this.signum()==0&&(f=!0);continue}T=n*T+q,++m>=o&&(this.dMultiply(l),this.dAddOffset(T,0),m=0,T=0)}m>0&&(this.dMultiply(Math.pow(n,m)),this.dAddOffset(T,0)),f&&r.ZERO.subTo(this,this)}function ai(e,n,o){if(typeof n=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,o),this.testBit(e-1)||this.bitwiseTo(r.ONE.shiftLeft(e-1),de,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(r.ONE.shiftLeft(e-1),this);else{var l=new Array,f=e&7;l.length=(e>>3)+1,n.nextBytes(l),f>0?l[0]&=(1<<f)-1:l[0]=0,this.fromString(l,256)}}function ui(){var e=this.t,n=new Array;n[0]=this.s;var o=this.DB-e*this.DB%8,l,f=0;if(e-- >0)for(o<this.DB&&(l=this[e]>>o)!=(this.s&this.DM)>>o&&(n[f++]=l|this.s<<this.DB-o);e>=0;)o<8?(l=(this[e]&(1<<o)-1)<<8-o,l|=this[--e]>>(o+=this.DB-8)):(l=this[e]>>(o-=8)&255,o<=0&&(o+=this.DB,--e)),(l&128)!=0&&(l|=-256),f==0&&(this.s&128)!=(l&128)&&++f,(f>0||l!=this.s)&&(n[f++]=l);return n}function li(e){return this.compareTo(e)==0}function ci(e){return this.compareTo(e)<0?this:e}function fi(e){return this.compareTo(e)>0?this:e}function hi(e,n,o){var l,f,m=Math.min(e.t,this.t);for(l=0;l<m;++l)o[l]=n(this[l],e[l]);if(e.t<this.t){for(f=e.s&this.DM,l=m;l<this.t;++l)o[l]=n(this[l],f);o.t=this.t}else{for(f=this.s&this.DM,l=m;l<e.t;++l)o[l]=n(f,e[l]);o.t=e.t}o.s=n(this.s,e.s),o.clamp()}function di(e,n){return e&n}function mi(e){var n=c();return this.bitwiseTo(e,di,n),n}function de(e,n){return e|n}function xi(e){var n=c();return this.bitwiseTo(e,de,n),n}function _e(e,n){return e^n}function pi(e){var n=c();return this.bitwiseTo(e,_e,n),n}function Oe(e,n){return e&~n}function gi(e){var n=c();return this.bitwiseTo(e,Oe,n),n}function vi(){for(var e=c(),n=0;n<this.t;++n)e[n]=this.DM&~this[n];return e.t=this.t,e.s=~this.s,e}function yi(e){var n=c();return e<0?this.rShiftTo(-e,n):this.lShiftTo(e,n),n}function bi(e){var n=c();return e<0?this.lShiftTo(-e,n):this.rShiftTo(e,n),n}function Ti(e){if(e==0)return-1;var n=0;return(e&65535)==0&&(e>>=16,n+=16),(e&255)==0&&(e>>=8,n+=8),(e&15)==0&&(e>>=4,n+=4),(e&3)==0&&(e>>=2,n+=2),(e&1)==0&&++n,n}function wi(){for(var e=0;e<this.t;++e)if(this[e]!=0)return e*this.DB+Ti(this[e]);return this.s<0?this.t*this.DB:-1}function Fi(e){for(var n=0;e!=0;)e&=e-1,++n;return n}function Bi(){for(var e=0,n=this.s&this.DM,o=0;o<this.t;++o)e+=Fi(this[o]^n);return e}function Di(e){var n=Math.floor(e/this.DB);return n>=this.t?this.s!=0:(this[n]&1<<e%this.DB)!=0}function Ii(e,n){var o=r.ONE.shiftLeft(e);return this.bitwiseTo(o,n,o),o}function Si(e){return this.changeBit(e,de)}function Ci(e){return this.changeBit(e,Oe)}function Ei(e){return this.changeBit(e,_e)}function Ai(e,n){for(var o=0,l=0,f=Math.min(e.t,this.t);o<f;)l+=this[o]+e[o],n[o++]=l&this.DM,l>>=this.DB;if(e.t<this.t){for(l+=e.s;o<this.t;)l+=this[o],n[o++]=l&this.DM,l>>=this.DB;l+=this.s}else{for(l+=this.s;o<e.t;)l+=e[o],n[o++]=l&this.DM,l>>=this.DB;l+=e.s}n.s=l<0?-1:0,l>0?n[o++]=l:l<-1&&(n[o++]=this.DV+l),n.t=o,n.clamp()}function Pi(e){var n=c();return this.addTo(e,n),n}function Mi(e){var n=c();return this.subTo(e,n),n}function Ri(e){var n=c();return this.multiplyTo(e,n),n}function Vi(){var e=c();return this.squareTo(e),e}function ki(e){var n=c();return this.divRemTo(e,n,null),n}function _i(e){var n=c();return this.divRemTo(e,null,n),n}function Oi(e){var n=c(),o=c();return this.divRemTo(e,n,o),new Array(n,o)}function qi(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Hi(e,n){if(e!=0){for(;this.t<=n;)this[this.t++]=0;for(this[n]+=e;this[n]>=this.DV;)this[n]-=this.DV,++n>=this.t&&(this[this.t++]=0),++this[n]}}function Ut(){}function qe(e){return e}function Ni(e,n,o){e.multiplyTo(n,o)}function $i(e,n){e.squareTo(n)}Ut.prototype.convert=qe,Ut.prototype.revert=qe,Ut.prototype.mulTo=Ni,Ut.prototype.sqrTo=$i;function Li(e){return this.exp(e,new Ut)}function Ui(e,n,o){var l=Math.min(this.t+e.t,n);for(o.s=0,o.t=l;l>0;)o[--l]=0;var f;for(f=o.t-this.t;l<f;++l)o[l+this.t]=this.am(0,e[l],o,l,0,this.t);for(f=Math.min(e.t,n);l<f;++l)this.am(0,e[l],o,l,0,n-l);o.clamp()}function zi(e,n,o){--n;var l=o.t=this.t+e.t-n;for(o.s=0;--l>=0;)o[l]=0;for(l=Math.max(n-this.t,0);l<e.t;++l)o[this.t+l-n]=this.am(n-l,e[l],o,0,0,this.t+l-n);o.clamp(),o.drShiftTo(1,o)}function Pt(e){this.r2=c(),this.q3=c(),r.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function Ki(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var n=c();return e.copyTo(n),this.reduce(n),n}function ji(e){return e}function Gi(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function Yi(e,n){e.squareTo(n),this.reduce(n)}function Zi(e,n,o){e.multiplyTo(n,o),this.reduce(o)}Pt.prototype.convert=Ki,Pt.prototype.revert=ji,Pt.prototype.reduce=Gi,Pt.prototype.mulTo=Zi,Pt.prototype.sqrTo=Yi;function Ji(e,n){var o=e.bitLength(),l,f=R(1),m;if(o<=0)return f;o<18?l=1:o<48?l=3:o<144?l=4:o<768?l=5:l=6,o<8?m=new A(n):n.isEven()?m=new Pt(n):m=new At(n);var T=new Array,F=3,q=l-1,z=(1<<l)-1;if(T[1]=m.convert(this),l>1){var it=c();for(m.sqrTo(T[1],it);F<=z;)T[F]=c(),m.mulTo(it,T[F-2],T[F]),F+=2}var et=e.t-1,Tt,Wt=!0,ut=c(),lt;for(o=y(e[et])-1;et>=0;){for(o>=q?Tt=e[et]>>o-q&z:(Tt=(e[et]&(1<<o+1)-1)<<q-o,et>0&&(Tt|=e[et-1]>>this.DB+o-q)),F=l;(Tt&1)==0;)Tt>>=1,--F;if((o-=F)<0&&(o+=this.DB,--et),Wt)T[Tt].copyTo(f),Wt=!1;else{for(;F>1;)m.sqrTo(f,ut),m.sqrTo(ut,f),F-=2;F>0?m.sqrTo(f,ut):(lt=f,f=ut,ut=lt),m.mulTo(ut,T[Tt],f)}for(;et>=0&&(e[et]&1<<o)==0;)m.sqrTo(f,ut),lt=f,f=ut,ut=lt,--o<0&&(o=this.DB-1,--et)}return m.revert(f)}function Xi(e){var n=this.s<0?this.negate():this.clone(),o=e.s<0?e.negate():e.clone();if(n.compareTo(o)<0){var l=n;n=o,o=l}var f=n.getLowestSetBit(),m=o.getLowestSetBit();if(m<0)return n;for(f<m&&(m=f),m>0&&(n.rShiftTo(m,n),o.rShiftTo(m,o));n.signum()>0;)(f=n.getLowestSetBit())>0&&n.rShiftTo(f,n),(f=o.getLowestSetBit())>0&&o.rShiftTo(f,o),n.compareTo(o)>=0?(n.subTo(o,n),n.rShiftTo(1,n)):(o.subTo(n,o),o.rShiftTo(1,o));return m>0&&o.lShiftTo(m,o),o}function Wi(e){if(e<=0)return 0;var n=this.DV%e,o=this.s<0?e-1:0;if(this.t>0)if(n==0)o=this[0]%e;else for(var l=this.t-1;l>=0;--l)o=(n*o+this[l])%e;return o}function Qi(e){var n=e.isEven();if(this.isEven()&&n||e.signum()==0)return r.ZERO;for(var o=e.clone(),l=this.clone(),f=R(1),m=R(0),T=R(0),F=R(1);o.signum()!=0;){for(;o.isEven();)o.rShiftTo(1,o),n?((!f.isEven()||!m.isEven())&&(f.addTo(this,f),m.subTo(e,m)),f.rShiftTo(1,f)):m.isEven()||m.subTo(e,m),m.rShiftTo(1,m);for(;l.isEven();)l.rShiftTo(1,l),n?((!T.isEven()||!F.isEven())&&(T.addTo(this,T),F.subTo(e,F)),T.rShiftTo(1,T)):F.isEven()||F.subTo(e,F),F.rShiftTo(1,F);o.compareTo(l)>=0?(o.subTo(l,o),n&&f.subTo(T,f),m.subTo(F,m)):(l.subTo(o,l),n&&T.subTo(f,T),F.subTo(m,F))}if(l.compareTo(r.ONE)!=0)return r.ZERO;if(F.compareTo(e)>=0)return F.subtract(e);if(F.signum()<0)F.addTo(e,F);else return F;return F.signum()<0?F.add(e):F}var X=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],to=(1<<26)/X[X.length-1];function eo(e){var n,o=this.abs();if(o.t==1&&o[0]<=X[X.length-1]){for(n=0;n<X.length;++n)if(o[0]==X[n])return!0;return!1}if(o.isEven())return!1;for(n=1;n<X.length;){for(var l=X[n],f=n+1;f<X.length&&l<to;)l*=X[f++];for(l=o.modInt(l);n<f;)if(l%X[n++]==0)return!1}return o.millerRabin(e)}function no(e){var n=this.subtract(r.ONE),o=n.getLowestSetBit();if(o<=0)return!1;var l=n.shiftRight(o);e=e+1>>1,e>X.length&&(e=X.length);for(var f=c(),m=0;m<e;++m){f.fromInt(X[Math.floor(Math.random()*X.length)]);var T=f.modPow(l,this);if(T.compareTo(r.ONE)!=0&&T.compareTo(n)!=0){for(var F=1;F++<o&&T.compareTo(n)!=0;)if(T=T.modPowInt(2,this),T.compareTo(r.ONE)==0)return!1;if(T.compareTo(n)!=0)return!1}}return!0}r.prototype.chunkSize=ii,r.prototype.toRadix=si,r.prototype.fromRadix=ri,r.prototype.fromNumber=ai,r.prototype.bitwiseTo=hi,r.prototype.changeBit=Ii,r.prototype.addTo=Ai,r.prototype.dMultiply=qi,r.prototype.dAddOffset=Hi,r.prototype.multiplyLowerTo=Ui,r.prototype.multiplyUpperTo=zi,r.prototype.modInt=Wi,r.prototype.millerRabin=no,r.prototype.clone=Qn,r.prototype.intValue=ti,r.prototype.byteValue=ei,r.prototype.shortValue=ni,r.prototype.signum=oi,r.prototype.toByteArray=ui,r.prototype.equals=li,r.prototype.min=ci,r.prototype.max=fi,r.prototype.and=mi,r.prototype.or=xi,r.prototype.xor=pi,r.prototype.andNot=gi,r.prototype.not=vi,r.prototype.shiftLeft=yi,r.prototype.shiftRight=bi,r.prototype.getLowestSetBit=wi,r.prototype.bitCount=Bi,r.prototype.testBit=Di,r.prototype.setBit=Si,r.prototype.clearBit=Ci,r.prototype.flipBit=Ei,r.prototype.add=Pi,r.prototype.subtract=Mi,r.prototype.multiply=Ri,r.prototype.divide=ki,r.prototype.remainder=_i,r.prototype.divideAndRemainder=Oi,r.prototype.modPow=Ji,r.prototype.modInverse=Qi,r.prototype.pow=Li,r.prototype.gcd=Xi,r.prototype.isProbablePrime=eo,r.prototype.square=Vi,r.prototype.Barrett=Pt;var Xt,tt,U;function io(e){tt[U++]^=e&255,tt[U++]^=e>>8&255,tt[U++]^=e>>16&255,tt[U++]^=e>>24&255,U>=xe&&(U-=xe)}function He(){io(new Date().getTime())}if(tt==null){tt=new Array,U=0;var at;if(typeof window!="undefined"&&window.crypto){if(window.crypto.getRandomValues){var Ne=new Uint8Array(32);for(window.crypto.getRandomValues(Ne),at=0;at<32;++at)tt[U++]=Ne[at]}else if(navigator.appName=="Netscape"&&navigator.appVersion<"5"){var $e=window.crypto.random(32);for(at=0;at<$e.length;++at)tt[U++]=$e.charCodeAt(at)&255}}for(;U<xe;)at=Math.floor(65536*Math.random()),tt[U++]=at>>>8,tt[U++]=at&255;U=0,He()}function oo(){if(Xt==null){for(He(),Xt=uo(),Xt.init(tt),U=0;U<tt.length;++U)tt[U]=0;U=0}return Xt.next()}function so(e){var n;for(n=0;n<e.length;++n)e[n]=oo()}function Le(){}Le.prototype.nextBytes=so;function me(){this.i=0,this.j=0,this.S=new Array}function ro(e){var n,o,l;for(n=0;n<256;++n)this.S[n]=n;for(o=0,n=0;n<256;++n)o=o+this.S[n]+e[n%e.length]&255,l=this.S[n],this.S[n]=this.S[o],this.S[o]=l;this.i=0,this.j=0}function ao(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]}me.prototype.init=ro,me.prototype.next=ao;function uo(){return new me}var xe=256;t.exports={default:r,BigInteger:r,SecureRandom:Le}}).call(Wo)})(Zt);const{BigInteger:qt}=Zt.exports;function us(t){let i=t.toString(16);if(i[0]!=="-")i.length%2===1?i="0"+i:i.match(/^[0-7]/)||(i="00"+i);else{i=i.substr(1);let s=i.length;s%2===1?s+=1:i.match(/^[0-7]/)||(s+=2);let a="";for(let u=0;u<s;u++)a+="f";a=new qt(a,16),i=a.xor(t).add(qt.ONE),i=i.toString(16).replace(/^-/,"")}return i}class An{constructor(){this.tlv=null,this.t="00",this.l="00",this.v=""}getEncodedHex(){return this.tlv||(this.v=this.getValue(),this.l=this.getLength(),this.tlv=this.t+this.l+this.v),this.tlv}getLength(){const i=this.v.length/2;let s=i.toString(16);return s.length%2===1&&(s="0"+s),i<128?s:(128+s.length/2).toString(16)+s}getValue(){return""}}class ln extends An{constructor(i){super(),this.t="02",i&&(this.v=us(i))}getValue(){return this.v}}class ls extends An{constructor(i){super(),this.t="30",this.asn1Array=i}getValue(){return this.v=this.asn1Array.map(i=>i.getEncodedHex()).join(""),this.v}}function Pn(t,i){return+t[i+2]<8?1:+t.substr(i+2,2)&127+1}function cn(t,i){const s=Pn(t,i),a=t.substr(i+2,s*2);return a?(+a[0]<8?new qt(a,16):new qt(a.substr(2),16)).intValue():-1}function be(t,i){const s=Pn(t,i);return i+(s+1)*2}var cs={encodeDer(t,i){const s=new ln(t),a=new ln(i);return new ls([s,a]).getEncodedHex()},decodeDer(t){const i=be(t,0),s=be(t,i),a=cn(t,i),u=t.substr(s,a*2),r=s+u.length,c=be(t,r),h=cn(t,r),x=t.substr(c,h*2),d=new qt(u,16),B=new qt(x,16);return{r:d,s:B}}};const{BigInteger:W}=Zt.exports,fn=new W("2"),hn=new W("3");class It{constructor(i,s){this.x=s,this.q=i}equals(i){return i===this?!0:this.q.equals(i.q)&&this.x.equals(i.x)}toBigInteger(){return this.x}negate(){return new It(this.q,this.x.negate().mod(this.q))}add(i){return new It(this.q,this.x.add(i.toBigInteger()).mod(this.q))}subtract(i){return new It(this.q,this.x.subtract(i.toBigInteger()).mod(this.q))}multiply(i){return new It(this.q,this.x.multiply(i.toBigInteger()).mod(this.q))}divide(i){return new It(this.q,this.x.multiply(i.toBigInteger().modInverse(this.q)).mod(this.q))}square(){return new It(this.q,this.x.square().mod(this.q))}}class Et{constructor(i,s,a,u){this.curve=i,this.x=s,this.y=a,this.z=u==null?W.ONE:u,this.zinv=null}getX(){return this.zinv===null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))}getY(){return this.zinv===null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))}equals(i){return i===this?!0:this.isInfinity()?i.isInfinity():i.isInfinity()?this.isInfinity():i.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(i.z)).mod(this.curve.q).equals(W.ZERO)?i.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(i.z)).mod(this.curve.q).equals(W.ZERO):!1}isInfinity(){return this.x===null&&this.y===null?!0:this.z.equals(W.ZERO)&&!this.y.toBigInteger().equals(W.ZERO)}negate(){return new Et(this.curve,this.x,this.y.negate(),this.z)}add(i){if(this.isInfinity())return i;if(i.isInfinity())return this;const s=this.x.toBigInteger(),a=this.y.toBigInteger(),u=this.z,r=i.x.toBigInteger(),c=i.y.toBigInteger(),h=i.z,x=this.curve.q,d=s.multiply(h).mod(x),B=r.multiply(u).mod(x),b=d.subtract(B),S=a.multiply(h).mod(x),P=c.multiply(u).mod(x),v=S.subtract(P);if(W.ZERO.equals(b))return W.ZERO.equals(v)?this.twice():this.curve.infinity;const p=d.add(B),D=u.multiply(h).mod(x),C=b.square().mod(x),I=b.multiply(C).mod(x),k=D.multiply(v.square()).subtract(p.multiply(C)).mod(x),R=b.multiply(k).mod(x),L=v.multiply(C.multiply(d).subtract(k)).subtract(S.multiply(I)).mod(x),H=I.multiply(D).mod(x);return new Et(this.curve,this.curve.fromBigInteger(R),this.curve.fromBigInteger(L),H)}twice(){if(this.isInfinity())return this;if(!this.y.toBigInteger().signum())return this.curve.infinity;const i=this.x.toBigInteger(),s=this.y.toBigInteger(),a=this.z,u=this.curve.q,r=this.curve.a.toBigInteger(),c=i.square().multiply(hn).add(r.multiply(a.square())).mod(u),h=s.shiftLeft(1).multiply(a).mod(u),x=s.square().mod(u),d=x.multiply(i).multiply(a).mod(u),B=h.square().mod(u),b=c.square().subtract(d.shiftLeft(3)).mod(u),S=h.multiply(b).mod(u),P=c.multiply(d.shiftLeft(2).subtract(b)).subtract(B.shiftLeft(1).multiply(x)).mod(u),v=h.multiply(B).mod(u);return new Et(this.curve,this.curve.fromBigInteger(S),this.curve.fromBigInteger(P),v)}multiply(i){if(this.isInfinity())return this;if(!i.signum())return this.curve.infinity;const s=i.multiply(hn),a=this.negate();let u=this;for(let r=s.bitLength()-2;r>0;r--){u=u.twice();const c=s.testBit(r),h=i.testBit(r);c!==h&&(u=u.add(c?this:a))}return u}}class fs{constructor(i,s,a){this.q=i,this.a=this.fromBigInteger(s),this.b=this.fromBigInteger(a),this.infinity=new Et(this,null,null)}equals(i){return i===this?!0:this.q.equals(i.q)&&this.a.equals(i.a)&&this.b.equals(i.b)}fromBigInteger(i){return new It(this.q,i)}decodePointHex(i){switch(parseInt(i.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:const s=this.fromBigInteger(new W(i.substr(2),16));let a=this.fromBigInteger(s.multiply(s.square()).add(s.multiply(this.a)).add(this.b).toBigInteger().modPow(this.q.divide(new W("4")).add(W.ONE),this.q));return a.toBigInteger().mod(fn).equals(new W(i.substr(0,2),16).subtract(fn))||(a=a.negate()),new Et(this,s,a);case 4:case 6:case 7:const u=(i.length-2)/2,r=i.substr(2,u),c=i.substr(u+2,u);return new Et(this,this.fromBigInteger(new W(r,16)),this.fromBigInteger(new W(c,16)));default:return null}}}var hs={ECPointFp:Et,ECCurveFp:fs};const{BigInteger:ft,SecureRandom:ds}=Zt.exports,{ECCurveFp:ms}=hs,xs=new ds,{curve:Ot,G:ps,n:dn}=Mn();function gs(){return Ot}function Mn(){const t=new ft("FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000FFFFFFFFFFFFFFFF",16),i=new ft("FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000FFFFFFFFFFFFFFFC",16),s=new ft("28E9FA9E9D9F5E344D5A9E4BCF6509A7F39789F515AB8F92DDBCBD414D940E93",16),a=new ms(t,i,s),u="32C4AE2C1F1981195F9904466A39C9948FE30BBFF2660BE1715A4589334C74C7",r="BC3736A2F4F6779C59BDCEE36B692153D0A9877CC62A474002DF32E52139F0A0",c=a.decodePointHex("04"+u+r),h=new ft("FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFF7203DF6B21C6052B53BBF40939D54123",16);return{curve:a,G:c,n:h}}function vs(t,i,s){const u=(t?new ft(t,i,s):new ft(dn.bitLength(),xs)).mod(dn.subtract(ft.ONE)).add(ft.ONE),r=zt(u.toString(16),64),c=ps.multiply(u),h=zt(c.getX().toBigInteger().toString(16),64),x=zt(c.getY().toBigInteger().toString(16),64),d="04"+h+x;return{privateKey:r,publicKey:d}}function ys(t){if(t.length!==130)throw new Error("Invalid public key to compress");const i=(t.length-2)/2,s=t.substr(2,i),a=new ft(t.substr(i+2,i),16);let u="03";return a.mod(new ft("2")).equals(ft.ZERO)&&(u="02"),u+s}function bs(t){t=unescape(encodeURIComponent(t));const i=t.length,s=[];for(let u=0;u<i;u++)s[u>>>2]|=(t.charCodeAt(u)&255)<<24-u%4*8;const a=[];for(let u=0;u<i;u++){const r=s[u>>>2]>>>24-u%4*8&255;a.push((r>>>4).toString(16)),a.push((r&15).toString(16))}return a.join("")}function zt(t,i){return t.length>=i?t:new Array(i-t.length+1).join("0")+t}function Ts(t){return t.map(i=>(i=i.toString(16),i.length===1?"0"+i:i)).join("")}function ws(t){const i=[];let s=0;for(let a=0;a<t.length*2;a+=2)i[a>>>3]|=parseInt(t[s],10)<<24-a%8*4,s++;try{const a=[];for(let u=0;u<t.length;u++){const r=i[u>>>2]>>>24-u%4*8&255;a.push(String.fromCharCode(r))}return decodeURIComponent(escape(a.join("")))}catch{throw new Error("Malformed UTF-8 data")}}function Fs(t){const i=[];let s=t.length;s%2!==0&&(t=zt(t,s+1)),s=t.length;for(let a=0;a<s;a+=2)i.push(parseInt(t.substr(a,2),16));return i}function Bs(t){const i=Ot.decodePointHex(t);if(!i)return!1;const s=i.getX();return i.getY().square().equals(s.multiply(s.square()).add(s.multiply(Ot.a)).add(Ot.b))}function Ds(t,i){const s=Ot.decodePointHex(t);if(!s)return!1;const a=Ot.decodePointHex(i);return a?s.equals(a):!1}var Is={getGlobalCurve:gs,generateEcparam:Mn,generateKeyPairHex:vs,compressPublicKeyHex:ys,utf8ToHex:bs,leftPad:zt,arrayToHex:Ts,arrayToUtf8:ws,hexToArray:Fs,verifyPublicKey:Bs,comparePublicKeyHex:Ds};function ot(t,i){const s=[],a=~~(i/8),u=i%8;for(let r=0,c=t.length;r<c;r++)s[r]=(t[(r+a)%c]<<u&255)+(t[(r+a+1)%c]>>>8-u&255);return s}function Z(t,i){const s=[];for(let a=t.length-1;a>=0;a--)s[a]=(t[a]^i[a])&255;return s}function Kt(t,i){const s=[];for(let a=t.length-1;a>=0;a--)s[a]=t[a]&i[a]&255;return s}function Be(t,i){const s=[];for(let a=t.length-1;a>=0;a--)s[a]=(t[a]|i[a])&255;return s}function Bt(t,i){const s=[];let a=0;for(let u=t.length-1;u>=0;u--){const r=t[u]+i[u]+a;r>255?(a=1,s[u]=r&255):(a=0,s[u]=r&255)}return s}function Ss(t){const i=[];for(let s=t.length-1;s>=0;s--)i[s]=~t[s]&255;return i}function Cs(t){return Z(Z(t,ot(t,9)),ot(t,17))}function Es(t){return Z(Z(t,ot(t,15)),ot(t,23))}function As(t,i,s,a){return a>=0&&a<=15?Z(Z(t,i),s):Be(Be(Kt(t,i),Kt(t,s)),Kt(i,s))}function Ps(t,i,s,a){return a>=0&&a<=15?Z(Z(t,i),s):Be(Kt(t,i),Kt(Ss(t),s))}function Ms(t,i){const s=[],a=[];for(let I=0;I<16;I++){const k=I*4;s.push(i.slice(k,k+4))}for(let I=16;I<68;I++)s.push(Z(Z(Es(Z(Z(s[I-16],s[I-9]),ot(s[I-3],15))),ot(s[I-13],7)),s[I-6]));for(let I=0;I<64;I++)a.push(Z(s[I],s[I+4]));const u=[121,204,69,25],r=[122,135,157,138];let c=t.slice(0,4),h=t.slice(4,8),x=t.slice(8,12),d=t.slice(12,16),B=t.slice(16,20),b=t.slice(20,24),S=t.slice(24,28),P=t.slice(28,32),v,p,D,C;for(let I=0;I<64;I++){const k=I>=0&&I<=15?u:r;v=ot(Bt(Bt(ot(c,12),B),ot(k,I)),7),p=Z(v,ot(c,12)),D=Bt(Bt(Bt(As(c,h,x,I),d),p),a[I]),C=Bt(Bt(Bt(Ps(B,b,S,I),P),v),s[I]),d=x,x=ot(h,9),h=c,c=D,P=S,S=ot(b,19),b=B,B=Cs(C)}return Z([].concat(c,h,x,d,B,b,S,P),t)}function ue(t){let i=t.length*8,s=i%512;s=s>=448?512-s%448-1:448-s-1;const a=new Array((s-7)/8);for(let x=0,d=a.length;x<d;x++)a[x]=0;const u=[];i=i.toString(2);for(let x=7;x>=0;x--)if(i.length>8){const d=i.length-8;u[x]=parseInt(i.substr(d),2),i=i.substr(0,d)}else i.length>0?(u[x]=parseInt(i,2),i=""):u[x]=0;const r=[].concat(t,[128],a,u),c=r.length/64;let h=[115,128,22,111,73,20,178,185,23,36,66,215,218,138,6,0,169,111,48,188,22,49,56,170,227,141,238,77,176,251,14,78];for(let x=0;x<c;x++){const d=64*x,B=r.slice(d,d+64);h=Ms(h,B)}return h}const jt=64,Rn=new Array(jt),Vn=new Array(jt);for(let t=0;t<jt;t++)Rn[t]=54,Vn[t]=92;function Rs(t,i){for(i.length>jt&&(i=ue(i));i.length<jt;)i.push(0);let a=Z(i,Rn).concat(t);return a=ue(a),a=Z(i,Vn).concat(a),a=ue(a),a}var kn={sm3:ue,hmac:Rs};const{BigInteger:nt}=Zt.exports,{encodeDer:Vs,decodeDer:ks}=cs,M=Is,Ht=kn.sm3,{G:Rt,curve:_n,n:Vt}=M.generateEcparam(),On=0;function _s(t,i,s=1){t=typeof t=="string"?M.hexToArray(M.utf8ToHex(t)):Array.prototype.slice.call(t),i=M.getGlobalCurve().decodePointHex(i);const a=M.generateKeyPairHex(),u=new nt(a.privateKey,16);let r=a.publicKey;r.length>128&&(r=r.substr(r.length-128));const c=i.multiply(u),h=M.hexToArray(M.leftPad(c.getX().toBigInteger().toRadix(16),64)),x=M.hexToArray(M.leftPad(c.getY().toBigInteger().toRadix(16),64)),d=M.arrayToHex(Ht([].concat(h,t,x)));let B=1,b=0,S=[];const P=[].concat(h,x),v=()=>{S=Ht([...P,B>>24&255,B>>16&255,B>>8&255,B&255]),B++,b=0};v();for(let D=0,C=t.length;D<C;D++)b===S.length&&v(),t[D]^=S[b++]&255;const p=M.arrayToHex(t);return s===On?r+p+d:r+d+p}function Os(t,i,s=1,{output:a="string"}={}){i=new nt(i,16);let u=t.substr(128,64),r=t.substr(128+64);s===On&&(u=t.substr(t.length-64),r=t.substr(128,t.length-128-64));const c=M.hexToArray(r),x=M.getGlobalCurve().decodePointHex("04"+t.substr(0,128)).multiply(i),d=M.hexToArray(M.leftPad(x.getX().toBigInteger().toRadix(16),64)),B=M.hexToArray(M.leftPad(x.getY().toBigInteger().toRadix(16),64));let b=1,S=0,P=[];const v=[].concat(d,B),p=()=>{P=Ht([...v,b>>24&255,b>>16&255,b>>8&255,b&255]),b++,S=0};p();for(let C=0,I=c.length;C<I;C++)S===P.length&&p(),c[C]^=P[S++]&255;return M.arrayToHex(Ht([].concat(d,c,B)))===u.toLowerCase()?a==="array"?c:M.arrayToUtf8(c):a==="array"?[]:""}function qs(t,i,{pointPool:s,der:a,hash:u,publicKey:r,userId:c}={}){let h=typeof t=="string"?M.utf8ToHex(t):M.arrayToHex(t);u&&(r=r||Ns(i),h=qn(h,r,c));const x=new nt(i,16),d=new nt(h,16);let B=null,b=null,S=null;do{do{let P;s&&s.length?P=s.pop():P=Hn(),B=P.k,b=d.add(P.x1).mod(Vt)}while(b.equals(nt.ZERO)||b.add(B).equals(Vt));S=x.add(nt.ONE).modInverse(Vt).multiply(B.subtract(b.multiply(x))).mod(Vt)}while(S.equals(nt.ZERO));return a?Vs(b,S):M.leftPad(b.toString(16),64)+M.leftPad(S.toString(16),64)}function Hs(t,i,s,{der:a,hash:u,userId:r}={}){let c=typeof t=="string"?M.utf8ToHex(t):M.arrayToHex(t);u&&(c=qn(c,s,r));let h,x;if(a){const v=ks(i);h=v.r,x=v.s}else h=new nt(i.substring(0,64),16),x=new nt(i.substring(64),16);const d=_n.decodePointHex(s),B=new nt(c,16),b=h.add(x).mod(Vt);if(b.equals(nt.ZERO))return!1;const S=Rt.multiply(x).add(d.multiply(b)),P=B.add(S.getX().toBigInteger()).mod(Vt);return h.equals(P)}function qn(t,i,s="1234567812345678"){s=M.utf8ToHex(s);const a=M.leftPad(Rt.curve.a.toBigInteger().toRadix(16),64),u=M.leftPad(Rt.curve.b.toBigInteger().toRadix(16),64),r=M.leftPad(Rt.getX().toBigInteger().toRadix(16),64),c=M.leftPad(Rt.getY().toBigInteger().toRadix(16),64);let h,x;if(i.length===128)h=i.substr(0,64),x=i.substr(64,64);else{const S=Rt.curve.decodePointHex(i);h=M.leftPad(S.getX().toBigInteger().toRadix(16),64),x=M.leftPad(S.getY().toBigInteger().toRadix(16),64)}const d=M.hexToArray(s+a+u+r+c+h+x),B=s.length*4;d.unshift(B&255),d.unshift(B>>8&255);const b=Ht(d);return M.arrayToHex(Ht(b.concat(M.hexToArray(t))))}function Ns(t){const i=Rt.multiply(new nt(t,16)),s=M.leftPad(i.getX().toBigInteger().toString(16),64),a=M.leftPad(i.getY().toBigInteger().toString(16),64);return"04"+s+a}function Hn(){const t=M.generateKeyPairHex(),i=_n.decodePointHex(t.publicKey);return t.k=new nt(t.privateKey,16),t.x1=i.getX().toBigInteger(),t}var $s={generateKeyPairHex:M.generateKeyPairHex,compressPublicKeyHex:M.compressPublicKeyHex,comparePublicKeyHex:M.comparePublicKeyHex,doEncrypt:_s,doDecrypt:Os,doSignature:qs,doVerifySignature:Hs,getPoint:Hn,verifyPublicKey:M.verifyPublicKey};const{sm3:Ls,hmac:Us}=kn;function zs(t,i){return t.length>=i?t:new Array(i-t.length+1).join("0")+t}function mn(t){return t.map(i=>(i=i.toString(16),i.length===1?"0"+i:i)).join("")}function Ks(t){const i=[];let s=t.length;s%2!==0&&(t=zs(t,s+1)),s=t.length;for(let a=0;a<s;a+=2)i.push(parseInt(t.substr(a,2),16));return i}function js(t){const i=[];for(let s=0,a=t.length;s<a;s++){const u=t.codePointAt(s);if(u<=127)i.push(u);else if(u<=2047)i.push(192|u>>>6),i.push(128|u&63);else if(u<=55295||u>=57344&&u<=65535)i.push(224|u>>>12),i.push(128|u>>>6&63),i.push(128|u&63);else if(u>=65536&&u<=1114111)s++,i.push(240|u>>>18&28),i.push(128|u>>>12&63),i.push(128|u>>>6&63),i.push(128|u&63);else throw i.push(u),new Error("input is not supported")}return i}var Gs=function(t,i){if(t=typeof t=="string"?js(t):Array.prototype.slice.call(t),i){if((i.mode||"hmac")!=="hmac")throw new Error("invalid mode");let a=i.key;if(!a)throw new Error("invalid key");return a=typeof a=="string"?Ks(a):Array.prototype.slice.call(a),mn(Us(t,a))}return mn(Ls(t))};const Dt=0,Ys=32,Mt=16,ie=[214,144,233,254,204,225,61,183,22,182,20,194,40,251,44,5,43,103,154,118,42,190,4,195,170,68,19,38,73,134,6,153,156,66,80,244,145,239,152,122,51,84,11,67,237,207,172,98,228,179,28,169,201,8,232,149,128,223,148,250,117,143,63,166,71,7,167,252,243,115,23,186,131,89,60,25,230,133,79,168,104,107,129,178,113,100,218,139,248,235,15,75,112,86,157,53,30,36,14,94,99,88,209,162,37,34,124,59,1,33,120,135,212,0,70,87,159,211,39,82,76,54,2,231,160,196,200,158,234,191,138,210,64,199,56,181,163,247,242,206,249,97,21,161,224,174,93,164,155,52,26,85,173,147,50,48,245,140,177,227,29,246,226,46,130,102,202,96,192,41,35,171,13,83,78,111,213,219,55,69,222,253,142,47,3,255,106,114,109,108,91,81,141,27,175,146,187,221,188,127,17,217,92,65,31,16,90,216,10,193,49,136,165,205,123,189,45,116,208,18,184,229,180,176,137,105,151,74,12,150,119,126,101,185,241,9,197,110,198,132,24,240,125,236,58,220,77,32,121,238,95,62,215,203,57,72],oe=[462357,472066609,943670861,1415275113,1886879365,2358483617,2830087869,3301692121,3773296373,4228057617,404694573,876298825,1347903077,1819507329,2291111581,2762715833,3234320085,3705924337,4177462797,337322537,808926789,1280531041,1752135293,2223739545,2695343797,3166948049,3638552301,4110090761,269950501,741554753,1213159005,1684763257];function Te(t){const i=[];for(let s=0,a=t.length;s<a;s+=2)i.push(parseInt(t.substr(s,2),16));return i}function Zs(t){return t.map(i=>(i=i.toString(16),i.length===1?"0"+i:i)).join("")}function Js(t){const i=[];for(let s=0,a=t.length;s<a;s++){const u=t.codePointAt(s);if(u<=127)i.push(u);else if(u<=2047)i.push(192|u>>>6),i.push(128|u&63);else if(u<=55295||u>=57344&&u<=65535)i.push(224|u>>>12),i.push(128|u>>>6&63),i.push(128|u&63);else if(u>=65536&&u<=1114111)s++,i.push(240|u>>>18&28),i.push(128|u>>>12&63),i.push(128|u>>>6&63),i.push(128|u&63);else throw i.push(u),new Error("input is not supported")}return i}function Xs(t){const i=[];for(let s=0,a=t.length;s<a;s++)t[s]>=240&&t[s]<=247?(i.push(String.fromCodePoint(((t[s]&7)<<18)+((t[s+1]&63)<<12)+((t[s+2]&63)<<6)+(t[s+3]&63))),s+=3):t[s]>=224&&t[s]<=239?(i.push(String.fromCodePoint(((t[s]&15)<<12)+((t[s+1]&63)<<6)+(t[s+2]&63))),s+=2):t[s]>=192&&t[s]<=223?(i.push(String.fromCodePoint(((t[s]&31)<<6)+(t[s+1]&63))),s++):i.push(String.fromCodePoint(t[s]));return i.join("")}function kt(t,i){return t<<i|t>>>32-i}function Ct(t){return(ie[t>>>24&255]&255)<<24|(ie[t>>>16&255]&255)<<16|(ie[t>>>8&255]&255)<<8|ie[t&255]&255}function se(t){return t^kt(t,2)^kt(t,10)^kt(t,18)^kt(t,24)}function re(t){return t^kt(t,13)^kt(t,23)}function Ws(t,i,s){const a=new Array(4),u=new Array(4);for(let r=0;r<4;r++)u[0]=t[4*r]&255,u[1]=t[4*r+1]&255,u[2]=t[4*r+2]&255,u[3]=t[4*r+3]&255,a[r]=u[0]<<24|u[1]<<16|u[2]<<8|u[3];for(let r=0,c;r<32;r+=4)c=a[1]^a[2]^a[3]^s[r+0],a[0]^=se(Ct(c)),c=a[2]^a[3]^a[0]^s[r+1],a[1]^=se(Ct(c)),c=a[3]^a[0]^a[1]^s[r+2],a[2]^=se(Ct(c)),c=a[0]^a[1]^a[2]^s[r+3],a[3]^=se(Ct(c));for(let r=0;r<16;r+=4)i[r]=a[3-r/4]>>>24&255,i[r+1]=a[3-r/4]>>>16&255,i[r+2]=a[3-r/4]>>>8&255,i[r+3]=a[3-r/4]&255}function Qs(t,i,s){const a=new Array(4),u=new Array(4);for(let r=0;r<4;r++)u[0]=t[0+4*r]&255,u[1]=t[1+4*r]&255,u[2]=t[2+4*r]&255,u[3]=t[3+4*r]&255,a[r]=u[0]<<24|u[1]<<16|u[2]<<8|u[3];a[0]^=2746333894,a[1]^=1453994832,a[2]^=1736282519,a[3]^=2993693404;for(let r=0,c;r<32;r+=4)c=a[1]^a[2]^a[3]^oe[r+0],i[r+0]=a[0]^=re(Ct(c)),c=a[2]^a[3]^a[0]^oe[r+1],i[r+1]=a[1]^=re(Ct(c)),c=a[3]^a[0]^a[1]^oe[r+2],i[r+2]=a[2]^=re(Ct(c)),c=a[0]^a[1]^a[2]^oe[r+3],i[r+3]=a[3]^=re(Ct(c));if(s===Dt)for(let r=0,c;r<16;r++)c=i[r],i[r]=i[31-r],i[31-r]=c}function xn(t,i,s,{padding:a="pkcs#7",mode:u,iv:r=[],output:c="string"}={}){if(u==="cbc"&&(typeof r=="string"&&(r=Te(r)),r.length!==128/8))throw new Error("iv is invalid");if(typeof i=="string"&&(i=Te(i)),i.length!==128/8)throw new Error("key is invalid");if(typeof t=="string"?s!==Dt?t=Js(t):t=Te(t):t=[...t],(a==="pkcs#5"||a==="pkcs#7")&&s!==Dt){const S=Mt-t.length%Mt;for(let P=0;P<S;P++)t.push(S)}const h=new Array(Ys);Qs(i,h,s);const x=[];let d=r,B=t.length,b=0;for(;B>=Mt;){const S=t.slice(b,b+16),P=new Array(16);if(u==="cbc")for(let v=0;v<Mt;v++)s!==Dt&&(S[v]^=d[v]);Ws(S,P,h);for(let v=0;v<Mt;v++)u==="cbc"&&s===Dt&&(P[v]^=d[v]),x[b+v]=P[v];u==="cbc"&&(s!==Dt?d=P:d=S),B-=Mt,b+=Mt}if((a==="pkcs#5"||a==="pkcs#7")&&s===Dt){const S=x.length,P=x[S-1];for(let v=1;v<=P;v++)if(x[S-v]!==P)throw new Error("padding is invalid");x.splice(S-P,P)}return c!=="array"?s!==Dt?Zs(x):Xs(x):x}var tr={encrypt(t,i,s){return xn(t,i,1,s)},decrypt(t,i,s){return xn(t,i,0,s)}},Jt={sm2:$s,sm3:Gs,sm4:tr};const er=0,Nn={privateKey:"AMPADS+BSbpTPdgX+/yduAxH4ys5lONk4zPgB/NYSlAZ",publicKey:"BDzop8PNh8mH/Iifslhrc86Z14mxbUKGNUR5VR34F9E8PmEDcYqIdRaoG2gpzHVgcCHE8jl9YVVFGvu89do0pps="},he=t=>cr(lr(t)),De=he(Nn.publicKey),nr=he(Nn.privateKey),ir=he("BF1bKDid/tOtJP71NlkwkvszkfdPkjpNGj2Z35IVM14qijMyuvlp3ohCAqWZ0J6h7UeAKRe/scFGhHosqfzzCng="),or=(t,i)=>Jt.sm4.encrypt(t,i),sr=(t,i)=>Jt.sm4.decrypt(t,i),rr=t=>`04${Jt.sm2.doEncrypt(t,ir,er)}`,ar=t=>Jt.sm2.doSignature(t,nr,{hash:!0,publicKey:De,der:!0}),ur=(t,i)=>Jt.sm2.doVerifySignature(t,i,De,{hash:!0,publicKey:De,der:!0});function lr(t){const i=[];let s,a,u,r,c,h,x,d=0;const B=t;if(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),B!==t&&alert("Warning! Characters outside Base64 range in input string ignored."),t.length%4)return alert("Error: Input length is not a multiple of 4 bytes."),"";let b=0;const S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";for(;d<t.length;)r=S.indexOf(t.charAt(d++)),c=S.indexOf(t.charAt(d++)),h=S.indexOf(t.charAt(d++)),x=S.indexOf(t.charAt(d++)),s=r<<2|c>>4,a=(c&15)<<4|h>>2,u=(h&3)<<6|x,i[b++]=s,h!==64&&(i[b++]=a),x!==64&&(i[b++]=u);return i}function cr(t){return t?t.map(i=>{const s=i.toString(16);return s.length===1?"0"+s:s}).join(""):""}function pn(t){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";let s="",a,u=0,r=0;for(let h=0;h<t.length;++h)t[h]>="A"&&t[h]<="Z"?a=t.charCodeAt(h)-55:t[h]>="a"&&t[h]<="z"?a=t.charCodeAt(h)-87:a=t.charCodeAt(h)-48,u=u<<4|a,r+=4,r>=6&&(r-=6,s+=i[u>>>r],u&=~(-1<<r));r>0&&(u<<=6-r,s+=i[u]);const c=s.length%4;if(c>0)for(let h=0;h<4-c;++h)s+="=";return s}const $n=t=>{const i=new Map,s=Object.keys(t);s.sort(),s.forEach(u=>i.set(u,t[u]));let a="";return i.forEach((u,r)=>a+=`${r}=${u}&`),a.slice(0,-1)};let le,gn;const we=(t,i)=>{le=un().replaceAll("-",""),gn=rr(le);const s=or(JSON.stringify(t),le),a=un().replaceAll("-",""),u=Date.now(),r={clientId:i,data:s,requestId:a,sm4Key:pn(gn),timestamp:u},c=$n(r),h=pn(ar(c));return Ge(je({},r),{sign:h})},fr=t=>{const u=t,{sign:i}=u,s=Ye(u,["sign"]);return ur($n(s),he(i))},hr=t=>sr(t,le),Fe=t=>{const i=fr(t);console.log(i);const s=hr(t.data);return console.log(s),JSON.parse(s)};const dr={class:"form-wrap"},mr=Lt("\u8BC1\u4EF6\u6709\u6548\u671F"),xr=fe("div",{class:"radio-title"},"\u76F4\u63A5\u8DF3\u8F6C",-1),pr=Lt("\u751F\u6D3B\u53F7"),gr=fe("div",{class:"radio-title"},"\u8DF3\u8F6C\u7A7A\u767D\u9875\u9762\u540E\u91CD\u5B9A\u5411",-1),vr=Lt("\u751F\u6D3B\u53F7"),yr=Lt("MINI PROGRAM"),br={style:{margin:"16px"}},Tr=Lt("\u63D0\u4EA4"),wr=fe("br",null,null,-1),Fr=Lt("v3 token"),Br=Nt({setup(t){const{VITE_CLIENT_ID:i,VITE_CLIENT_SECRET:s}=ae(),a=$(i),u=$(s),r=$(!1),c=[16,18,64,66],h=$(64),x=$(c.findIndex(y=>y===h.value)),d=$(""),B=$(""),b=$(!1),S=$(0),P=[new Date(2e3,0,1),new Date],v=[new Date,new Date(2050,11,31)],p=$([P,v][S.value]),D=$(new Date(2e3,0,1)),C=$(new Date(2030,11,31)),I=["H5","MINI"],k=$("2"),R=y=>{h.value=y,r.value=!1},L=y=>{S.value?C.value=y:D.value=y,b.value=!1},H=vt(()=>D.value.toLocaleDateString()),K=vt(()=>C.value.toLocaleDateString()),rt=async()=>{let{accessToken:y}=await Qo({clientId:a.value,clientSecret:u.value}),g=location.href.indexOf("?")===-1?location.href:location.href.substring(0,location.href.indexOf("?")),_={accessToken:y,authType:"GzhRegular",mode:h.value,extraParams:{foreBackUrl:g},businessInfo:{subject:"\u8EAB\u4EFD\u9A8C\u8BC1"},idInfo:{fullName:d.value,idNum:B.value}},{tokenInfo:O}=await ts(_),{certToken:j}=O,G=Number(k.value),Q;if(G){let ht=I[G-1];const{MODE:yt,VITE_DEMO_BASE_URL:dt}=ae();Q=`${`${yt==="production"?dt:"https://sfrz.wsbs.shxga.gov.cn"}`}/authgzh/auth?certToken=${j}&env=${ht}`}else{const{MODE:ht,VITE_AUTH_BASE_URL:yt,VITE_PROXY_AUTH_BASE_URL:dt}=ae();Q=`${`${ht==="production"?yt:dt}`}/auth?certToken=${j}`}window.location.replace(Q)},N=async()=>{let y="https://sfrz.wsbs.shxga.gov.cn/sit/shanxiauthweb/transfer.html",g="";if(!d.value||!B.value){let O=we({mode:h.value,authType:"GzhRegular",businessInfo:{subject:"\u8EAB\u4EFD\u9A8C\u8BC1"},extraParams:{foreBackUrl:y}},a.value),j=await is(O);g=Fe(j).certToken}else{let O=we({authData:{mode:64,idInfo:{fullName:d.value,idNum:B.value}}},a.value),j=await es(O),G=Fe(j);const Q=G.gawzbz;O=we({mode:h.value,authType:"GzhRegular",idInfo:{gawzbz:Q},businessInfo:{subject:"\u8EAB\u4EFD\u9A8C\u8BC1"},extraParams:{foreBackUrl:y}},a.value),j=await ns(O),G=Fe(j),g=G.certToken}let _="https://sfrz.wsbs.shxga.gov.cn/authlife";return window.location.href=`${_}/auth?certToken=${g}`},J=(y,g)=>y==="year"?`${g}\u5E74`:y==="month"?`${g}\u6708`:y==="day"?`${g}\u65E5`:g;return Se(()=>{let y=decodeURIComponent(window.location.href),g=y.substring(y.indexOf("?")+1);const O=new URLSearchParams(g).get("errorMsg");if(O)return So({message:`\u8BA4\u8BC1${O}`,forbidClick:!0})}),(y,g)=>{const _=xt("van-field"),O=xt("van-divider"),j=xt("van-cell-group"),G=xt("van-radio"),Q=xt("van-radio-group"),ht=xt("van-button"),yt=xt("van-picker"),dt=xt("van-popup"),w=xt("van-datetime-picker"),A=xt("van-form");return Xe(),We("div",dr,[V(A,{onSubmit:rt},{default:ct(()=>[V(j,{inset:""},{default:ct(()=>[V(_,{modelValue:a.value,"onUpdate:modelValue":g[0]||(g[0]=E=>a.value=E),name:"\u8D26\u53F7",label:"\u8D26\u53F7",placeholder:"\u8D26\u53F7",clearable:"",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u8D26\u53F7"}]},null,8,["modelValue"]),V(_,{modelValue:u.value,"onUpdate:modelValue":g[1]||(g[1]=E=>u.value=E),name:"\u5BC6\u7801",label:"\u5BC6\u7801",placeholder:"\u5BC6\u7801",clearable:"",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5BC6\u7801"}]},null,8,["modelValue"]),V(_,{modelValue:h.value,"onUpdate:modelValue":g[2]||(g[2]=E=>h.value=E),readonly:"","is-link":"",name:"\u8BA4\u8BC1\u6A21\u5F0F",label:"\u8BA4\u8BC1\u6A21\u5F0F",placeholder:"\u8BA4\u8BC1\u6A21\u5F0F",onClick:g[3]||(g[3]=E=>r.value=!0)},null,8,["modelValue"]),V(_,{modelValue:d.value,"onUpdate:modelValue":g[4]||(g[4]=E=>d.value=E),name:"\u59D3\u540D",label:"\u59D3\u540D",maxlength:"18",placeholder:"\u59D3\u540D"},null,8,["modelValue"]),V(_,{modelValue:B.value,"onUpdate:modelValue":g[5]||(g[5]=E=>B.value=E),name:"\u8BC1\u4EF6\u53F7\u7801",label:"\u8BC1\u4EF6\u53F7\u7801",maxlength:"18",placeholder:"\u8BC1\u4EF6\u53F7\u7801"},null,8,["modelValue"]),[16,18].includes(Number(h.value))?(Xe(),We(Fo,{key:0},[V(O,{"content-position":"left"},{default:ct(()=>[mr]),_:1}),V(_,{modelValue:Qe(H),"onUpdate:modelValue":g[6]||(g[6]=E=>tn(H)?H.value=E:null),readonly:"","is-link":"",name:"\u8D77\u59CB\u65E5\u671F",label:"\u8D77\u59CB\u65E5\u671F",onClick:g[7]||(g[7]=E=>{S.value=0,b.value=!0})},null,8,["modelValue"]),V(_,{modelValue:Qe(K),"onUpdate:modelValue":g[8]||(g[8]=E=>tn(K)?K.value=E:null),readonly:"","is-link":"",name:"\u622A\u6B62\u65E5\u671F",label:"\u622A\u6B62\u65E5\u671F",onClick:g[9]||(g[9]=E=>{S.value=1,b.value=!0})},null,8,["modelValue"])],64)):Bo("",!0)]),_:1}),V(Q,{class:"radio-box",modelValue:k.value,"onUpdate:modelValue":g[10]||(g[10]=E=>k.value=E)},{default:ct(()=>[xr,V(G,{name:"0"},{default:ct(()=>[pr]),_:1}),gr,V(G,{name:"1"},{default:ct(()=>[vr]),_:1}),V(G,{name:"2"},{default:ct(()=>[yr]),_:1})]),_:1},8,["modelValue"]),fe("div",br,[V(ht,{round:"",block:"",type:"primary","native-type":"submit"},{default:ct(()=>[Tr]),_:1}),wr,V(ht,{round:"",block:"",type:"primary",onClick:N},{default:ct(()=>[Fr]),_:1})]),V(dt,{show:r.value,"onUpdate:show":g[12]||(g[12]=E=>r.value=E),round:"",position:"bottom"},{default:ct(()=>[V(yt,{columns:c,defaultIndex:x.value,onCancel:g[11]||(g[11]=E=>r.value=!1),onConfirm:R},null,8,["defaultIndex"])]),_:1},8,["show"]),V(dt,{show:b.value,"onUpdate:show":g[14]||(g[14]=E=>b.value=E),round:"",position:"bottom"},{default:ct(()=>[V(w,{modelValue:[D.value,C.value][S.value],"onUpdate:modelValue":g[13]||(g[13]=E=>[D.value,C.value][S.value]=E),title:"\u9009\u62E9\u65E5\u671F",type:"date","min-date":p.value[0],"max-date":p.value[1],formatter:J,onConfirm:L},null,8,["modelValue","min-date","max-date"])]),_:1},8,["show"])]),_:1})])}}});Do(Br).use(Io).use(Po).use(Mo).use(Ro).use(Vo).use(ko).use(Me).use(Ao).use(Xo).use(Co).mount("#app");
