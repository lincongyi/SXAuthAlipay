var co=Object.defineProperty,fo=Object.defineProperties;var ho=Object.getOwnPropertyDescriptors;var te=Object.getOwnPropertySymbols;var Ne=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable;var He=(t,i,s)=>i in t?co(t,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[i]=s,Le=(t,i)=>{for(var s in i||(i={}))Ne.call(i,s)&&He(t,s,i[s]);if(te)for(var s of te(i))$e.call(i,s)&&He(t,s,i[s]);return t},Ue=(t,i)=>fo(t,ho(i));var ze=(t,i)=>{var s={};for(var a in t)Ne.call(t,a)&&i.indexOf(a)<0&&(s[a]=t[a]);if(t!=null&&te)for(var a of te(t))i.indexOf(a)<0&&$e.call(t,a)&&(s[a]=t[a]);return s};import{i as mo,j as Be,k as Yt,d as Nt,m as ee,u as xo,l as po,n as Ke,q as gn,r as $,s as go,v as vo,x as at,g as V,y as vn,z as _t,A as St,C as yo,D as $t,E as yn,G as bo,H as yt,L as To,I as wo,J as je,K as Fo,M as bn,N as De,O as gt,P as Ie,Q as Se,R as vt,S as ge,f as pt,o as Ye,c as Ze,w as dt,F as Bo,T as Ge,U as Je,V as Do,a as fe,e as Lt,h as Io,B as So}from"./normalize.729e6abb.js";import{s as Tn,v as wn,T as Co,D as Eo}from"./index.f01a553a.js";import{l as ae}from"./index.73831807.js";import{u as Ao,a as Zt,P as Po}from"./certification-successful.6420e1bd.js";import{F as Mo,a as Ro,C as Vo}from"./index.8be760f7.js";import{R as ko,a as _o}from"./index.d63e21f0.js";import"./logo.9e2f423b.js";function ce(t){if(!mo(t))return t;if(Array.isArray(t))return t.map(i=>ce(i));if(Be(t)){const i={};return Object.keys(t).forEach(s=>{i[s]=ce(t[s])}),i}return t}const Xe=200,We=300,Oo=15,[Fn,ve]=Yt("picker-column");function qo(t){const{transform:i}=window.getComputedStyle(t),s=i.slice(7,i.length-1).split(", ")[5];return Number(s)}const Bn=Symbol(Fn),ye=t=>Be(t)&&t.disabled;var Ho=Nt({name:Fn,props:{textKey:ee(String),readonly:Boolean,allowHtml:Boolean,className:xo,itemHeight:ee(Number),defaultIndex:po(0),swipeDuration:ee(Ke),initialOptions:gn(),visibleItemCount:ee(Ke)},emits:["change"],setup(t,{emit:i,slots:s}){let a,u,r,c,d;const x=$(),m=go({index:t.defaultIndex,offset:0,duration:0,options:ce(t.initialOptions)}),D=Ao(),y=()=>m.options.length,S=()=>t.itemHeight*(+t.visibleItemCount-1)/2,P=b=>{b=_t(b,0,y());for(let v=b;v<y();v++)if(!ye(m.options[v]))return v;for(let v=b-1;v>=0;v--)if(!ye(m.options[v]))return v},g=(b,v)=>{b=P(b)||0;const _=-b*t.itemHeight,O=()=>{b!==m.index&&(m.index=b,v&&i("change",b))};a&&_!==m.offset?d=O:O(),m.offset=_},p=b=>{JSON.stringify(b)!==JSON.stringify(m.options)&&(m.options=ce(b),g(t.defaultIndex))},B=b=>{a||t.readonly||(d=null,m.duration=Xe,g(b,!0))},C=b=>Be(b)&&t.textKey in b?b[t.textKey]:b,I=b=>_t(Math.round(-b/t.itemHeight),0,y()-1),k=(b,v)=>{const _=Math.abs(b/v);b=m.offset+_/.003*(b<0?-1:1);const O=I(b);m.duration=+t.swipeDuration,g(O,!0)},R=()=>{a=!1,m.duration=0,d&&(d(),d=null)},L=b=>{if(!t.readonly){if(D.start(b),a){const v=qo(x.value);m.offset=Math.min(0,v-S()),u=m.offset}else u=m.offset;m.duration=0,r=Date.now(),c=u,d=null}},H=b=>{if(t.readonly)return;D.move(b),D.isVertical()&&(a=!0,vn(b,!0)),m.offset=_t(u+D.deltaY.value,-(y()*t.itemHeight),t.itemHeight);const v=Date.now();v-r>We&&(r=v,c=m.offset)},K=()=>{if(t.readonly)return;const b=m.offset-c,v=Date.now()-r;if(v<We&&Math.abs(b)>Oo){k(b,v);return}const O=I(m.offset);m.duration=Xe,g(O,!0),setTimeout(()=>{a=!1},0)},ut=()=>{const b={height:`${t.itemHeight}px`};return m.options.map((v,_)=>{const O=C(v),J=ye(v),Z={role:"button",style:b,tabindex:J?-1:0,class:ve("item",{disabled:J,selected:_===m.index}),onClick:()=>B(_)},Q={class:"van-ellipsis",[t.allowHtml?"innerHTML":"textContent"]:O};return V("li",Z,[s.option?s.option(v):V("div",Q,null)])})},N=b=>{const{options:v}=m;for(let _=0;_<v.length;_++)if(C(v[_])===b)return g(_)},G=()=>m.options[m.index];return g(m.index),vo(Bn),Zt({state:m,setIndex:g,getValue:G,setValue:N,setOptions:p,stopMomentum:R}),at(()=>t.initialOptions,p),at(()=>t.defaultIndex,b=>g(b)),()=>V("div",{class:[ve(),t.className],onTouchstart:L,onTouchmove:H,onTouchend:K,onTouchcancel:K},[V("ul",{ref:x,style:{transform:`translate3d(0, ${m.offset+S()}px, 0)`,transitionDuration:`${m.duration}ms`,transitionProperty:m.duration?"all":"none"},class:ve("wrapper"),onTransitionend:R},[ut()])])}});const[No,wt,Qe]=Yt("picker"),Ce={title:String,loading:Boolean,readonly:Boolean,allowHtml:Boolean,itemHeight:St(44),showToolbar:yo,swipeDuration:St(1e3),visibleItemCount:St(6),cancelButtonText:String,confirmButtonText:String},$o=$t({},Ce,{columns:gn(),valueKey:String,defaultIndex:St(0),toolbarPosition:yn("top"),columnsFieldNames:Object});var Lo=Nt({name:No,props:$o,emits:["confirm","cancel","change"],setup(t,{emit:i,slots:s}){const a=$(!1),u=$([]),{text:r,values:c,children:d}=$t({text:t.valueKey||"text",values:"values",children:"children"},t.columnsFieldNames),{children:x,linkChildren:m}=bo(Bn);m();const D=yt(()=>wo(t.itemHeight)),y=yt(()=>{const w=t.columns[0];if(typeof w=="object"){if(d in w)return"cascade";if(c in w)return"object"}return"plain"}),S=()=>{var w;const A=[];let E={[d]:t.columns};for(;E&&E[d];){const xt=E[d];let bt=(w=E.defaultIndex)!=null?w:+t.defaultIndex;for(;xt[bt]&&xt[bt].disabled;)if(bt<xt.length-1)bt++;else{bt=0;break}A.push({[c]:E[d],className:E.className,defaultIndex:bt}),E=xt[bt]}u.value=A},P=()=>{const{columns:w}=t;y.value==="plain"?u.value=[{[c]:w}]:y.value==="cascade"?S():u.value=w,a.value=u.value.some(A=>A[c]&&A[c].length!==0)},g=()=>x.map(w=>w.state.index),p=(w,A)=>{const E=x[w];E&&(E.setOptions(A),a.value=!0)},B=w=>{let A={[d]:t.columns};const E=g();for(let xt=0;xt<=w;xt++)A=A[d][E[xt]];for(;A&&A[d];)w++,p(w,A[d]),A=A[d][A.defaultIndex||0]},C=w=>x[w],I=w=>{const A=C(w);if(A)return A.getValue()},k=(w,A)=>{const E=C(w);E&&(E.setValue(A),y.value==="cascade"&&B(w))},R=w=>{const A=C(w);if(A)return A.state.index},L=(w,A)=>{const E=C(w);E&&(E.setIndex(A),y.value==="cascade"&&B(w))},H=w=>{const A=C(w);if(A)return A.state.options},K=()=>x.map(w=>w.getValue()),ut=w=>{w.forEach((A,E)=>{k(E,A)})},N=w=>{w.forEach((A,E)=>{L(E,A)})},G=w=>{y.value==="plain"?i(w,I(0),R(0)):i(w,K(),g())},b=w=>{y.value==="cascade"&&B(w),y.value==="plain"?i("change",I(0),R(0)):i("change",K(),w)},v=()=>{x.forEach(w=>w.stopMomentum()),G("confirm")},_=()=>G("cancel"),O=()=>{if(s.title)return s.title();if(t.title)return V("div",{class:[wt("title"),"van-ellipsis"]},[t.title])},J=()=>{const w=t.cancelButtonText||Qe("cancel");return V("button",{type:"button",class:[wt("cancel"),je],onClick:_},[s.cancel?s.cancel():w])},Z=()=>{const w=t.confirmButtonText||Qe("confirm");return V("button",{type:"button",class:[wt("confirm"),je],onClick:v},[s.confirm?s.confirm():w])},Q=()=>{if(t.showToolbar){const w=s.toolbar||s.default;return V("div",{class:wt("toolbar")},[w?w():[J(),O(),Z()]])}},it=()=>u.value.map((w,A)=>{var E;return V(Ho,{textKey:r,readonly:t.readonly,allowHtml:t.allowHtml,className:w.className,itemHeight:D.value,defaultIndex:(E=w.defaultIndex)!=null?E:+t.defaultIndex,swipeDuration:t.swipeDuration,initialOptions:w[c],visibleItemCount:t.visibleItemCount,onChange:()=>b(A)},{option:s.option})}),lt=w=>{if(a.value){const A={height:`${D.value}px`},E={backgroundSize:`100% ${(w-D.value)/2}px`};return[V("div",{class:wt("mask"),style:E},null),V("div",{class:[Fo,wt("frame")],style:A},null)]}},ot=()=>{const w=D.value*+t.visibleItemCount,A={height:`${w}px`};return V("div",{class:wt("columns"),style:A,onTouchmove:vn},[it(),lt(w)])};return at(()=>t.columns,P,{immediate:!0}),Zt({confirm:v,getValues:K,setValues:ut,getIndexes:g,setIndexes:N,getColumnIndex:R,setColumnIndex:L,getColumnValue:I,setColumnValue:k,getColumnValues:H,setColumnValues:p}),()=>{var w,A;return V("div",{class:wt()},[t.toolbarPosition==="top"?Q():null,t.loading?V(To,{class:wt("loading")},null):null,(w=s["columns-top"])==null?void 0:w.call(s),ot(),(A=s["columns-bottom"])==null?void 0:A.call(s),t.toolbarPosition==="bottom"?Q():null])}}});const Ee=bn(Lo),Dn=$t({},Ce,{filter:Function,columnsOrder:Array,formatter:{type:Function,default:(t,i)=>i}}),In=Object.keys(Ce);function Sn(t,i){if(t<0)return[];const s=Array(t);let a=-1;for(;++a<t;)s[a]=i(a);return s}function Uo(t){if(!t)return 0;for(;Number.isNaN(parseInt(t,10));)if(t.length>1)t=t.slice(1);else return 0;return parseInt(t,10)}const tn=(t,i)=>32-new Date(t,i-1,32).getDate(),Cn=(t,i)=>{const s=["setValues","setIndexes","setColumnIndex","setColumnValue"];return new Proxy(t,{get:(a,u)=>s.includes(u)?(...r)=>{a[u](...r),i()}:a[u]})},[zo]=Yt("time-picker");var Ae=Nt({name:zo,props:$t({},Dn,{minHour:St(0),maxHour:St(23),minMinute:St(0),maxMinute:St(59),modelValue:String}),emits:["confirm","cancel","change","update:modelValue"],setup(t,{emit:i,slots:s}){const a=g=>{const{minHour:p,maxHour:B,maxMinute:C,minMinute:I}=t;g||(g=`${vt(p)}:${vt(I)}`);let[k,R]=g.split(":");return k=vt(_t(+k,+p,+B)),R=vt(_t(+R,+I,+C)),`${k}:${R}`},u=$(),r=$(a(t.modelValue)),c=yt(()=>[{type:"hour",range:[+t.minHour,+t.maxHour]},{type:"minute",range:[+t.minMinute,+t.maxMinute]}]),d=yt(()=>c.value.map(({type:g,range:p})=>{let B=Sn(p[1]-p[0]+1,C=>vt(p[0]+C));return t.filter&&(B=t.filter(g,B)),{type:g,values:B}})),x=yt(()=>d.value.map(g=>({values:g.values.map(p=>t.formatter(g.type,p))}))),m=()=>{const g=r.value.split(":"),p=[t.formatter("hour",g[0]),t.formatter("minute",g[1])];gt(()=>{var B;(B=u.value)==null||B.setValues(p)})},D=()=>{const[g,p]=u.value.getIndexes(),[B,C]=d.value,I=B.values[g]||B.values[0],k=C.values[p]||C.values[0];r.value=a(`${I}:${k}`),m()},y=()=>i("confirm",r.value),S=()=>i("cancel"),P=()=>{D(),gt(()=>{gt(()=>i("change",r.value))})};return De(()=>{m(),gt(D)}),at(x,m),at(()=>[t.filter,t.maxHour,t.minMinute,t.maxMinute],D),at(()=>t.minHour,()=>{gt(D)}),at(r,g=>i("update:modelValue",g)),at(()=>t.modelValue,g=>{g=a(g),g!==r.value&&(r.value=g,m())}),Zt({getPicker:()=>u.value&&Cn(u.value,D)}),()=>V(Ee,Ie({ref:u,columns:x.value,onChange:P,onCancel:S,onConfirm:y},Se(t,In)),s)}});const en=new Date().getFullYear(),[Ko]=Yt("date-picker");var Pe=Nt({name:Ko,props:$t({},Dn,{type:yn("datetime"),modelValue:Date,minDate:{type:Date,default:()=>new Date(en-10,0,1),validator:ge},maxDate:{type:Date,default:()=>new Date(en+10,11,31),validator:ge}}),emits:["confirm","cancel","change","update:modelValue"],setup(t,{emit:i,slots:s}){const a=p=>{if(ge(p)){const B=_t(p.getTime(),t.minDate.getTime(),t.maxDate.getTime());return new Date(B)}},u=$(),r=$(a(t.modelValue)),c=(p,B)=>{const C=t[`${p}Date`],I=C.getFullYear();let k=1,R=1,L=0,H=0;return p==="max"&&(k=12,R=tn(B.getFullYear(),B.getMonth()+1),L=23,H=59),B.getFullYear()===I&&(k=C.getMonth()+1,B.getMonth()+1===k&&(R=C.getDate(),B.getDate()===R&&(L=C.getHours(),B.getHours()===L&&(H=C.getMinutes())))),{[`${p}Year`]:I,[`${p}Month`]:k,[`${p}Date`]:R,[`${p}Hour`]:L,[`${p}Minute`]:H}},d=yt(()=>{const{maxYear:p,maxDate:B,maxMonth:C,maxHour:I,maxMinute:k}=c("max",r.value||t.minDate),{minYear:R,minDate:L,minMonth:H,minHour:K,minMinute:ut}=c("min",r.value||t.minDate);let N=[{type:"year",range:[R,p]},{type:"month",range:[H,C]},{type:"day",range:[L,B]},{type:"hour",range:[K,I]},{type:"minute",range:[ut,k]}];switch(t.type){case"date":N=N.slice(0,3);break;case"year-month":N=N.slice(0,2);break;case"month-day":N=N.slice(1,3);break;case"datehour":N=N.slice(0,4);break}if(t.columnsOrder){const G=t.columnsOrder.concat(N.map(b=>b.type));N.sort((b,v)=>G.indexOf(b.type)-G.indexOf(v.type))}return N}),x=yt(()=>d.value.map(({type:p,range:B})=>{let C=Sn(B[1]-B[0]+1,I=>vt(B[0]+I));return t.filter&&(C=t.filter(p,C)),{type:p,values:C}})),m=yt(()=>x.value.map(p=>({values:p.values.map(B=>t.formatter(p.type,B))}))),D=()=>{const p=r.value||t.minDate,{formatter:B}=t,C=x.value.map(I=>{switch(I.type){case"year":return B("year",`${p.getFullYear()}`);case"month":return B("month",vt(p.getMonth()+1));case"day":return B("day",vt(p.getDate()));case"hour":return B("hour",vt(p.getHours()));case"minute":return B("minute",vt(p.getMinutes()));default:return""}});gt(()=>{var I;(I=u.value)==null||I.setValues(C)})},y=()=>{const{type:p}=t,B=u.value.getIndexes(),C=N=>{let G=0;x.value.forEach((v,_)=>{N===v.type&&(G=_)});const{values:b}=x.value[G];return Uo(b[B[G]])};let I,k,R;p==="month-day"?(I=(r.value||t.minDate).getFullYear(),k=C("month"),R=C("day")):(I=C("year"),k=C("month"),R=p==="year-month"?1:C("day"));const L=tn(I,k);R=R>L?L:R;let H=0,K=0;p==="datehour"&&(H=C("hour")),p==="datetime"&&(H=C("hour"),K=C("minute"));const ut=new Date(I,k-1,R,H,K);r.value=a(ut)},S=()=>{i("update:modelValue",r.value),i("confirm",r.value)},P=()=>i("cancel"),g=()=>{y(),gt(()=>{y(),gt(()=>i("change",r.value))})};return De(()=>{D(),gt(y)}),at(m,D),at(r,(p,B)=>i("update:modelValue",B?p:null)),at(()=>[t.filter,t.minDate,t.maxDate],()=>{gt(y)}),at(()=>t.modelValue,p=>{var B;p=a(p),p&&p.valueOf()!==((B=r.value)==null?void 0:B.valueOf())&&(r.value=p)}),Zt({getPicker:()=>u.value&&Cn(u.value,y)}),()=>V(Ee,Ie({ref:u,columns:m.value,onChange:g,onCancel:P,onConfirm:S},Se(t,In)),s)}});const[jo,Yo]=Yt("datetime-picker"),Zo=Object.keys(Ae.props),Go=Object.keys(Pe.props),Jo=$t({},Ae.props,Pe.props,{modelValue:[String,Date]});var Xo=Nt({name:jo,props:Jo,setup(t,{attrs:i,slots:s}){const a=$();return Zt({getPicker:()=>{var u;return(u=a.value)==null?void 0:u.getPicker()}}),()=>{const u=t.type==="time",r=u?Ae:Pe,c=Se(t,u?Zo:Go);return V(r,Ie({ref:a,class:Yo()},c,i),s)}}});const Wo=bn(Xo);var Qo=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};const{VITE_DEMO_BASE_URL:En,VITE_V3_BASE_URL:An}=ae();function ts(t){return Tn({baseURL:En,url:"/getaccesstoken",method:"get",params:t})}function es(t){return Tn({baseURL:En,url:"/authreq",method:"post",data:t})}function ns(t){return wn({baseURL:An,url:"/simpauth",method:"post",data:t})}function is(t){return wn({baseURL:An,url:"/gawzauthreq",method:"post",data:t})}let ne;const os=new Uint8Array(16);function ss(){if(!ne&&(ne=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ne))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ne(os)}const j=[];for(let t=0;t<256;++t)j.push((t+256).toString(16).slice(1));function rs(t,i=0){return(j[t[i+0]]+j[t[i+1]]+j[t[i+2]]+j[t[i+3]]+"-"+j[t[i+4]]+j[t[i+5]]+"-"+j[t[i+6]]+j[t[i+7]]+"-"+j[t[i+8]]+j[t[i+9]]+"-"+j[t[i+10]]+j[t[i+11]]+j[t[i+12]]+j[t[i+13]]+j[t[i+14]]+j[t[i+15]]).toLowerCase()}const as=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var nn={randomUUID:as};function on(t,i,s){if(nn.randomUUID&&!i&&!t)return nn.randomUUID();t=t||{};const a=t.random||(t.rng||ss)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,i){s=s||0;for(let u=0;u<16;++u)i[s+u]=a[u];return i}return rs(a)}var Gt={exports:{}};(function(t,i){(function(){var s,a=0xdeadbeefcafe,u=(a&16777215)==15715070;function r(e,n,o){e!=null&&(typeof e=="number"?this.fromNumber(e,n,o):n==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,n))}function c(){return new r(null)}function d(e,n,o,l,f,h){for(;--h>=0;){var T=n*this[e++]+o[l]+f;f=Math.floor(T/67108864),o[l++]=T&67108863}return f}function x(e,n,o,l,f,h){for(var T=n&32767,F=n>>15;--h>=0;){var q=this[e]&32767,z=this[e++]>>15,st=F*q+z*T;q=T*q+((st&32767)<<15)+o[l]+(f&1073741823),f=(q>>>30)+(st>>>15)+F*z+(f>>>30),o[l++]=q&1073741823}return f}function m(e,n,o,l,f,h){for(var T=n&16383,F=n>>14;--h>=0;){var q=this[e]&16383,z=this[e++]>>14,st=F*q+z*T;q=T*q+((st&16383)<<14)+o[l]+f,f=(q>>28)+(st>>14)+F*z,o[l++]=q&268435455}return f}var D=typeof navigator!="undefined";D&&u&&navigator.appName=="Microsoft Internet Explorer"?(r.prototype.am=x,s=30):D&&u&&navigator.appName!="Netscape"?(r.prototype.am=d,s=26):(r.prototype.am=m,s=28),r.prototype.DB=s,r.prototype.DM=(1<<s)-1,r.prototype.DV=1<<s;var y=52;r.prototype.FV=Math.pow(2,y),r.prototype.F1=y-s,r.prototype.F2=2*s-y;var S="0123456789abcdefghijklmnopqrstuvwxyz",P=new Array,g,p;for(g="0".charCodeAt(0),p=0;p<=9;++p)P[g++]=p;for(g="a".charCodeAt(0),p=10;p<36;++p)P[g++]=p;for(g="A".charCodeAt(0),p=10;p<36;++p)P[g++]=p;function B(e){return S.charAt(e)}function C(e,n){var o=P[e.charCodeAt(n)];return o==null?-1:o}function I(e){for(var n=this.t-1;n>=0;--n)e[n]=this[n];e.t=this.t,e.s=this.s}function k(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function R(e){var n=c();return n.fromInt(e),n}function L(e,n){var o;if(n==16)o=4;else if(n==8)o=3;else if(n==256)o=8;else if(n==2)o=1;else if(n==32)o=5;else if(n==4)o=2;else{this.fromRadix(e,n);return}this.t=0,this.s=0;for(var l=e.length,f=!1,h=0;--l>=0;){var T=o==8?e[l]&255:C(e,l);if(T<0){e.charAt(l)=="-"&&(f=!0);continue}f=!1,h==0?this[this.t++]=T:h+o>this.DB?(this[this.t-1]|=(T&(1<<this.DB-h)-1)<<h,this[this.t++]=T>>this.DB-h):this[this.t-1]|=T<<h,h+=o,h>=this.DB&&(h-=this.DB)}o==8&&(e[0]&128)!=0&&(this.s=-1,h>0&&(this[this.t-1]|=(1<<this.DB-h)-1<<h)),this.clamp(),f&&r.ZERO.subTo(this,this)}function H(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function K(e){if(this.s<0)return"-"+this.negate().toString(e);var n;if(e==16)n=4;else if(e==8)n=3;else if(e==2)n=1;else if(e==32)n=5;else if(e==4)n=2;else return this.toRadix(e);var o=(1<<n)-1,l,f=!1,h="",T=this.t,F=this.DB-T*this.DB%n;if(T-- >0)for(F<this.DB&&(l=this[T]>>F)>0&&(f=!0,h=B(l));T>=0;)F<n?(l=(this[T]&(1<<F)-1)<<n-F,l|=this[--T]>>(F+=this.DB-n)):(l=this[T]>>(F-=n)&o,F<=0&&(F+=this.DB,--T)),l>0&&(f=!0),f&&(h+=B(l));return f?h:"0"}function ut(){var e=c();return r.ZERO.subTo(this,e),e}function N(){return this.s<0?this.negate():this}function G(e){var n=this.s-e.s;if(n!=0)return n;var o=this.t;if(n=o-e.t,n!=0)return this.s<0?-n:n;for(;--o>=0;)if((n=this[o]-e[o])!=0)return n;return 0}function b(e){var n=1,o;return(o=e>>>16)!=0&&(e=o,n+=16),(o=e>>8)!=0&&(e=o,n+=8),(o=e>>4)!=0&&(e=o,n+=4),(o=e>>2)!=0&&(e=o,n+=2),(o=e>>1)!=0&&(e=o,n+=1),n}function v(){return this.t<=0?0:this.DB*(this.t-1)+b(this[this.t-1]^this.s&this.DM)}function _(e,n){var o;for(o=this.t-1;o>=0;--o)n[o+e]=this[o];for(o=e-1;o>=0;--o)n[o]=0;n.t=this.t+e,n.s=this.s}function O(e,n){for(var o=e;o<this.t;++o)n[o-e]=this[o];n.t=Math.max(this.t-e,0),n.s=this.s}function J(e,n){var o=e%this.DB,l=this.DB-o,f=(1<<l)-1,h=Math.floor(e/this.DB),T=this.s<<o&this.DM,F;for(F=this.t-1;F>=0;--F)n[F+h+1]=this[F]>>l|T,T=(this[F]&f)<<o;for(F=h-1;F>=0;--F)n[F]=0;n[h]=T,n.t=this.t+h+1,n.s=this.s,n.clamp()}function Z(e,n){n.s=this.s;var o=Math.floor(e/this.DB);if(o>=this.t){n.t=0;return}var l=e%this.DB,f=this.DB-l,h=(1<<l)-1;n[0]=this[o]>>l;for(var T=o+1;T<this.t;++T)n[T-o-1]|=(this[T]&h)<<f,n[T-o]=this[T]>>l;l>0&&(n[this.t-o-1]|=(this.s&h)<<f),n.t=this.t-o,n.clamp()}function Q(e,n){for(var o=0,l=0,f=Math.min(e.t,this.t);o<f;)l+=this[o]-e[o],n[o++]=l&this.DM,l>>=this.DB;if(e.t<this.t){for(l-=e.s;o<this.t;)l+=this[o],n[o++]=l&this.DM,l>>=this.DB;l+=this.s}else{for(l+=this.s;o<e.t;)l-=e[o],n[o++]=l&this.DM,l>>=this.DB;l-=e.s}n.s=l<0?-1:0,l<-1?n[o++]=this.DV+l:l>0&&(n[o++]=l),n.t=o,n.clamp()}function it(e,n){var o=this.abs(),l=e.abs(),f=o.t;for(n.t=f+l.t;--f>=0;)n[f]=0;for(f=0;f<l.t;++f)n[f+o.t]=o.am(0,l[f],n,f,0,o.t);n.s=0,n.clamp(),this.s!=e.s&&r.ZERO.subTo(n,n)}function lt(e){for(var n=this.abs(),o=e.t=2*n.t;--o>=0;)e[o]=0;for(o=0;o<n.t-1;++o){var l=n.am(o,n[o],e,2*o,0,1);(e[o+n.t]+=n.am(o+1,2*n[o],e,2*o+1,l,n.t-o-1))>=n.DV&&(e[o+n.t]-=n.DV,e[o+n.t+1]=1)}e.t>0&&(e[e.t-1]+=n.am(o,n[o],e,2*o,0,1)),e.s=0,e.clamp()}function ot(e,n,o){var l=e.abs();if(!(l.t<=0)){var f=this.abs();if(f.t<l.t){n!=null&&n.fromInt(0),o!=null&&this.copyTo(o);return}o==null&&(o=c());var h=c(),T=this.s,F=e.s,q=this.DB-b(l[l.t-1]);q>0?(l.lShiftTo(q,h),f.lShiftTo(q,o)):(l.copyTo(h),f.copyTo(o));var z=h.t,st=h[z-1];if(st!=0){var et=st*(1<<this.F1)+(z>1?h[z-2]>>this.F2:0),Tt=this.FV/et,Wt=(1<<this.F1)/et,ft=1<<this.F2,ht=o.t,Qt=ht-z,Ft=n==null?c():n;for(h.dlShiftTo(Qt,Ft),o.compareTo(Ft)>=0&&(o[o.t++]=1,o.subTo(Ft,o)),r.ONE.dlShiftTo(z,Ft),Ft.subTo(h,h);h.t<z;)h[h.t++]=0;for(;--Qt>=0;){var pe=o[--ht]==st?this.DM:Math.floor(o[ht]*Tt+(o[ht-1]+ft)*Wt);if((o[ht]+=h.am(0,pe,o,Qt,0,z))<pe)for(h.dlShiftTo(Qt,Ft),o.subTo(Ft,o);o[ht]<--pe;)o.subTo(Ft,o)}n!=null&&(o.drShiftTo(z,n),T!=F&&r.ZERO.subTo(n,n)),o.t=z,o.clamp(),q>0&&o.rShiftTo(q,o),T<0&&r.ZERO.subTo(o,o)}}}function w(e){var n=c();return this.abs().divRemTo(e,null,n),this.s<0&&n.compareTo(r.ZERO)>0&&e.subTo(n,n),n}function A(e){this.m=e}function E(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function xt(e){return e}function bt(e){e.divRemTo(this.m,null,e)}function Un(e,n,o){e.multiplyTo(n,o),this.reduce(o)}function zn(e,n){e.squareTo(n),this.reduce(n)}A.prototype.convert=E,A.prototype.revert=xt,A.prototype.reduce=bt,A.prototype.mulTo=Un,A.prototype.sqrTo=zn;function Kn(){if(this.t<1)return 0;var e=this[0];if((e&1)==0)return 0;var n=e&3;return n=n*(2-(e&15)*n)&15,n=n*(2-(e&255)*n)&255,n=n*(2-((e&65535)*n&65535))&65535,n=n*(2-e*n%this.DV)%this.DV,n>0?this.DV-n:-n}function At(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function jn(e){var n=c();return e.abs().dlShiftTo(this.m.t,n),n.divRemTo(this.m,null,n),e.s<0&&n.compareTo(r.ZERO)>0&&this.m.subTo(n,n),n}function Yn(e){var n=c();return e.copyTo(n),this.reduce(n),n}function Zn(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var n=0;n<this.m.t;++n){var o=e[n]&32767,l=o*this.mpl+((o*this.mph+(e[n]>>15)*this.mpl&this.um)<<15)&e.DM;for(o=n+this.m.t,e[o]+=this.m.am(0,l,e,n,0,this.m.t);e[o]>=e.DV;)e[o]-=e.DV,e[++o]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function Gn(e,n){e.squareTo(n),this.reduce(n)}function Jn(e,n,o){e.multiplyTo(n,o),this.reduce(o)}At.prototype.convert=jn,At.prototype.revert=Yn,At.prototype.reduce=Zn,At.prototype.mulTo=Jn,At.prototype.sqrTo=Gn;function Xn(){return(this.t>0?this[0]&1:this.s)==0}function Wn(e,n){if(e>4294967295||e<1)return r.ONE;var o=c(),l=c(),f=n.convert(this),h=b(e)-1;for(f.copyTo(o);--h>=0;)if(n.sqrTo(o,l),(e&1<<h)>0)n.mulTo(l,f,o);else{var T=o;o=l,l=T}return n.revert(o)}function Qn(e,n){var o;return e<256||n.isEven()?o=new A(n):o=new At(n),this.exp(e,o)}r.prototype.copyTo=I,r.prototype.fromInt=k,r.prototype.fromString=L,r.prototype.clamp=H,r.prototype.dlShiftTo=_,r.prototype.drShiftTo=O,r.prototype.lShiftTo=J,r.prototype.rShiftTo=Z,r.prototype.subTo=Q,r.prototype.multiplyTo=it,r.prototype.squareTo=lt,r.prototype.divRemTo=ot,r.prototype.invDigit=Kn,r.prototype.isEven=Xn,r.prototype.exp=Wn,r.prototype.toString=K,r.prototype.negate=ut,r.prototype.abs=N,r.prototype.compareTo=G,r.prototype.bitLength=v,r.prototype.mod=w,r.prototype.modPowInt=Qn,r.ZERO=R(0),r.ONE=R(1);function ti(){var e=c();return this.copyTo(e),e}function ei(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function ni(){return this.t==0?this.s:this[0]<<24>>24}function ii(){return this.t==0?this.s:this[0]<<16>>16}function oi(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function si(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function ri(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var n=this.chunkSize(e),o=Math.pow(e,n),l=R(o),f=c(),h=c(),T="";for(this.divRemTo(l,f,h);f.signum()>0;)T=(o+h.intValue()).toString(e).substr(1)+T,f.divRemTo(l,f,h);return h.intValue().toString(e)+T}function ai(e,n){this.fromInt(0),n==null&&(n=10);for(var o=this.chunkSize(n),l=Math.pow(n,o),f=!1,h=0,T=0,F=0;F<e.length;++F){var q=C(e,F);if(q<0){e.charAt(F)=="-"&&this.signum()==0&&(f=!0);continue}T=n*T+q,++h>=o&&(this.dMultiply(l),this.dAddOffset(T,0),h=0,T=0)}h>0&&(this.dMultiply(Math.pow(n,h)),this.dAddOffset(T,0)),f&&r.ZERO.subTo(this,this)}function ui(e,n,o){if(typeof n=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,o),this.testBit(e-1)||this.bitwiseTo(r.ONE.shiftLeft(e-1),de,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(r.ONE.shiftLeft(e-1),this);else{var l=new Array,f=e&7;l.length=(e>>3)+1,n.nextBytes(l),f>0?l[0]&=(1<<f)-1:l[0]=0,this.fromString(l,256)}}function li(){var e=this.t,n=new Array;n[0]=this.s;var o=this.DB-e*this.DB%8,l,f=0;if(e-- >0)for(o<this.DB&&(l=this[e]>>o)!=(this.s&this.DM)>>o&&(n[f++]=l|this.s<<this.DB-o);e>=0;)o<8?(l=(this[e]&(1<<o)-1)<<8-o,l|=this[--e]>>(o+=this.DB-8)):(l=this[e]>>(o-=8)&255,o<=0&&(o+=this.DB,--e)),(l&128)!=0&&(l|=-256),f==0&&(this.s&128)!=(l&128)&&++f,(f>0||l!=this.s)&&(n[f++]=l);return n}function ci(e){return this.compareTo(e)==0}function fi(e){return this.compareTo(e)<0?this:e}function hi(e){return this.compareTo(e)>0?this:e}function di(e,n,o){var l,f,h=Math.min(e.t,this.t);for(l=0;l<h;++l)o[l]=n(this[l],e[l]);if(e.t<this.t){for(f=e.s&this.DM,l=h;l<this.t;++l)o[l]=n(this[l],f);o.t=this.t}else{for(f=this.s&this.DM,l=h;l<e.t;++l)o[l]=n(f,e[l]);o.t=e.t}o.s=n(this.s,e.s),o.clamp()}function mi(e,n){return e&n}function xi(e){var n=c();return this.bitwiseTo(e,mi,n),n}function de(e,n){return e|n}function pi(e){var n=c();return this.bitwiseTo(e,de,n),n}function Me(e,n){return e^n}function gi(e){var n=c();return this.bitwiseTo(e,Me,n),n}function Re(e,n){return e&~n}function vi(e){var n=c();return this.bitwiseTo(e,Re,n),n}function yi(){for(var e=c(),n=0;n<this.t;++n)e[n]=this.DM&~this[n];return e.t=this.t,e.s=~this.s,e}function bi(e){var n=c();return e<0?this.rShiftTo(-e,n):this.lShiftTo(e,n),n}function Ti(e){var n=c();return e<0?this.lShiftTo(-e,n):this.rShiftTo(e,n),n}function wi(e){if(e==0)return-1;var n=0;return(e&65535)==0&&(e>>=16,n+=16),(e&255)==0&&(e>>=8,n+=8),(e&15)==0&&(e>>=4,n+=4),(e&3)==0&&(e>>=2,n+=2),(e&1)==0&&++n,n}function Fi(){for(var e=0;e<this.t;++e)if(this[e]!=0)return e*this.DB+wi(this[e]);return this.s<0?this.t*this.DB:-1}function Bi(e){for(var n=0;e!=0;)e&=e-1,++n;return n}function Di(){for(var e=0,n=this.s&this.DM,o=0;o<this.t;++o)e+=Bi(this[o]^n);return e}function Ii(e){var n=Math.floor(e/this.DB);return n>=this.t?this.s!=0:(this[n]&1<<e%this.DB)!=0}function Si(e,n){var o=r.ONE.shiftLeft(e);return this.bitwiseTo(o,n,o),o}function Ci(e){return this.changeBit(e,de)}function Ei(e){return this.changeBit(e,Re)}function Ai(e){return this.changeBit(e,Me)}function Pi(e,n){for(var o=0,l=0,f=Math.min(e.t,this.t);o<f;)l+=this[o]+e[o],n[o++]=l&this.DM,l>>=this.DB;if(e.t<this.t){for(l+=e.s;o<this.t;)l+=this[o],n[o++]=l&this.DM,l>>=this.DB;l+=this.s}else{for(l+=this.s;o<e.t;)l+=e[o],n[o++]=l&this.DM,l>>=this.DB;l+=e.s}n.s=l<0?-1:0,l>0?n[o++]=l:l<-1&&(n[o++]=this.DV+l),n.t=o,n.clamp()}function Mi(e){var n=c();return this.addTo(e,n),n}function Ri(e){var n=c();return this.subTo(e,n),n}function Vi(e){var n=c();return this.multiplyTo(e,n),n}function ki(){var e=c();return this.squareTo(e),e}function _i(e){var n=c();return this.divRemTo(e,n,null),n}function Oi(e){var n=c();return this.divRemTo(e,null,n),n}function qi(e){var n=c(),o=c();return this.divRemTo(e,n,o),new Array(n,o)}function Hi(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Ni(e,n){if(e!=0){for(;this.t<=n;)this[this.t++]=0;for(this[n]+=e;this[n]>=this.DV;)this[n]-=this.DV,++n>=this.t&&(this[this.t++]=0),++this[n]}}function Ut(){}function Ve(e){return e}function $i(e,n,o){e.multiplyTo(n,o)}function Li(e,n){e.squareTo(n)}Ut.prototype.convert=Ve,Ut.prototype.revert=Ve,Ut.prototype.mulTo=$i,Ut.prototype.sqrTo=Li;function Ui(e){return this.exp(e,new Ut)}function zi(e,n,o){var l=Math.min(this.t+e.t,n);for(o.s=0,o.t=l;l>0;)o[--l]=0;var f;for(f=o.t-this.t;l<f;++l)o[l+this.t]=this.am(0,e[l],o,l,0,this.t);for(f=Math.min(e.t,n);l<f;++l)this.am(0,e[l],o,l,0,n-l);o.clamp()}function Ki(e,n,o){--n;var l=o.t=this.t+e.t-n;for(o.s=0;--l>=0;)o[l]=0;for(l=Math.max(n-this.t,0);l<e.t;++l)o[this.t+l-n]=this.am(n-l,e[l],o,0,0,this.t+l-n);o.clamp(),o.drShiftTo(1,o)}function Pt(e){this.r2=c(),this.q3=c(),r.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function ji(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var n=c();return e.copyTo(n),this.reduce(n),n}function Yi(e){return e}function Zi(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function Gi(e,n){e.squareTo(n),this.reduce(n)}function Ji(e,n,o){e.multiplyTo(n,o),this.reduce(o)}Pt.prototype.convert=ji,Pt.prototype.revert=Yi,Pt.prototype.reduce=Zi,Pt.prototype.mulTo=Ji,Pt.prototype.sqrTo=Gi;function Xi(e,n){var o=e.bitLength(),l,f=R(1),h;if(o<=0)return f;o<18?l=1:o<48?l=3:o<144?l=4:o<768?l=5:l=6,o<8?h=new A(n):n.isEven()?h=new Pt(n):h=new At(n);var T=new Array,F=3,q=l-1,z=(1<<l)-1;if(T[1]=h.convert(this),l>1){var st=c();for(h.sqrTo(T[1],st);F<=z;)T[F]=c(),h.mulTo(st,T[F-2],T[F]),F+=2}var et=e.t-1,Tt,Wt=!0,ft=c(),ht;for(o=b(e[et])-1;et>=0;){for(o>=q?Tt=e[et]>>o-q&z:(Tt=(e[et]&(1<<o+1)-1)<<q-o,et>0&&(Tt|=e[et-1]>>this.DB+o-q)),F=l;(Tt&1)==0;)Tt>>=1,--F;if((o-=F)<0&&(o+=this.DB,--et),Wt)T[Tt].copyTo(f),Wt=!1;else{for(;F>1;)h.sqrTo(f,ft),h.sqrTo(ft,f),F-=2;F>0?h.sqrTo(f,ft):(ht=f,f=ft,ft=ht),h.mulTo(ft,T[Tt],f)}for(;et>=0&&(e[et]&1<<o)==0;)h.sqrTo(f,ft),ht=f,f=ft,ft=ht,--o<0&&(o=this.DB-1,--et)}return h.revert(f)}function Wi(e){var n=this.s<0?this.negate():this.clone(),o=e.s<0?e.negate():e.clone();if(n.compareTo(o)<0){var l=n;n=o,o=l}var f=n.getLowestSetBit(),h=o.getLowestSetBit();if(h<0)return n;for(f<h&&(h=f),h>0&&(n.rShiftTo(h,n),o.rShiftTo(h,o));n.signum()>0;)(f=n.getLowestSetBit())>0&&n.rShiftTo(f,n),(f=o.getLowestSetBit())>0&&o.rShiftTo(f,o),n.compareTo(o)>=0?(n.subTo(o,n),n.rShiftTo(1,n)):(o.subTo(n,o),o.rShiftTo(1,o));return h>0&&o.lShiftTo(h,o),o}function Qi(e){if(e<=0)return 0;var n=this.DV%e,o=this.s<0?e-1:0;if(this.t>0)if(n==0)o=this[0]%e;else for(var l=this.t-1;l>=0;--l)o=(n*o+this[l])%e;return o}function to(e){var n=e.isEven();if(this.isEven()&&n||e.signum()==0)return r.ZERO;for(var o=e.clone(),l=this.clone(),f=R(1),h=R(0),T=R(0),F=R(1);o.signum()!=0;){for(;o.isEven();)o.rShiftTo(1,o),n?((!f.isEven()||!h.isEven())&&(f.addTo(this,f),h.subTo(e,h)),f.rShiftTo(1,f)):h.isEven()||h.subTo(e,h),h.rShiftTo(1,h);for(;l.isEven();)l.rShiftTo(1,l),n?((!T.isEven()||!F.isEven())&&(T.addTo(this,T),F.subTo(e,F)),T.rShiftTo(1,T)):F.isEven()||F.subTo(e,F),F.rShiftTo(1,F);o.compareTo(l)>=0?(o.subTo(l,o),n&&f.subTo(T,f),h.subTo(F,h)):(l.subTo(o,l),n&&T.subTo(f,T),F.subTo(h,F))}if(l.compareTo(r.ONE)!=0)return r.ZERO;if(F.compareTo(e)>=0)return F.subtract(e);if(F.signum()<0)F.addTo(e,F);else return F;return F.signum()<0?F.add(e):F}var X=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],eo=(1<<26)/X[X.length-1];function no(e){var n,o=this.abs();if(o.t==1&&o[0]<=X[X.length-1]){for(n=0;n<X.length;++n)if(o[0]==X[n])return!0;return!1}if(o.isEven())return!1;for(n=1;n<X.length;){for(var l=X[n],f=n+1;f<X.length&&l<eo;)l*=X[f++];for(l=o.modInt(l);n<f;)if(l%X[n++]==0)return!1}return o.millerRabin(e)}function io(e){var n=this.subtract(r.ONE),o=n.getLowestSetBit();if(o<=0)return!1;var l=n.shiftRight(o);e=e+1>>1,e>X.length&&(e=X.length);for(var f=c(),h=0;h<e;++h){f.fromInt(X[Math.floor(Math.random()*X.length)]);var T=f.modPow(l,this);if(T.compareTo(r.ONE)!=0&&T.compareTo(n)!=0){for(var F=1;F++<o&&T.compareTo(n)!=0;)if(T=T.modPowInt(2,this),T.compareTo(r.ONE)==0)return!1;if(T.compareTo(n)!=0)return!1}}return!0}r.prototype.chunkSize=oi,r.prototype.toRadix=ri,r.prototype.fromRadix=ai,r.prototype.fromNumber=ui,r.prototype.bitwiseTo=di,r.prototype.changeBit=Si,r.prototype.addTo=Pi,r.prototype.dMultiply=Hi,r.prototype.dAddOffset=Ni,r.prototype.multiplyLowerTo=zi,r.prototype.multiplyUpperTo=Ki,r.prototype.modInt=Qi,r.prototype.millerRabin=io,r.prototype.clone=ti,r.prototype.intValue=ei,r.prototype.byteValue=ni,r.prototype.shortValue=ii,r.prototype.signum=si,r.prototype.toByteArray=li,r.prototype.equals=ci,r.prototype.min=fi,r.prototype.max=hi,r.prototype.and=xi,r.prototype.or=pi,r.prototype.xor=gi,r.prototype.andNot=vi,r.prototype.not=yi,r.prototype.shiftLeft=bi,r.prototype.shiftRight=Ti,r.prototype.getLowestSetBit=Fi,r.prototype.bitCount=Di,r.prototype.testBit=Ii,r.prototype.setBit=Ci,r.prototype.clearBit=Ei,r.prototype.flipBit=Ai,r.prototype.add=Mi,r.prototype.subtract=Ri,r.prototype.multiply=Vi,r.prototype.divide=_i,r.prototype.remainder=Oi,r.prototype.divideAndRemainder=qi,r.prototype.modPow=Xi,r.prototype.modInverse=to,r.prototype.pow=Ui,r.prototype.gcd=Wi,r.prototype.isProbablePrime=no,r.prototype.square=ki,r.prototype.Barrett=Pt;var Xt,tt,U;function oo(e){tt[U++]^=e&255,tt[U++]^=e>>8&255,tt[U++]^=e>>16&255,tt[U++]^=e>>24&255,U>=xe&&(U-=xe)}function ke(){oo(new Date().getTime())}if(tt==null){tt=new Array,U=0;var ct;if(typeof window!="undefined"&&window.crypto){if(window.crypto.getRandomValues){var _e=new Uint8Array(32);for(window.crypto.getRandomValues(_e),ct=0;ct<32;++ct)tt[U++]=_e[ct]}else if(navigator.appName=="Netscape"&&navigator.appVersion<"5"){var Oe=window.crypto.random(32);for(ct=0;ct<Oe.length;++ct)tt[U++]=Oe.charCodeAt(ct)&255}}for(;U<xe;)ct=Math.floor(65536*Math.random()),tt[U++]=ct>>>8,tt[U++]=ct&255;U=0,ke()}function so(){if(Xt==null){for(ke(),Xt=lo(),Xt.init(tt),U=0;U<tt.length;++U)tt[U]=0;U=0}return Xt.next()}function ro(e){var n;for(n=0;n<e.length;++n)e[n]=so()}function qe(){}qe.prototype.nextBytes=ro;function me(){this.i=0,this.j=0,this.S=new Array}function ao(e){var n,o,l;for(n=0;n<256;++n)this.S[n]=n;for(o=0,n=0;n<256;++n)o=o+this.S[n]+e[n%e.length]&255,l=this.S[n],this.S[n]=this.S[o],this.S[o]=l;this.i=0,this.j=0}function uo(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]}me.prototype.init=ao,me.prototype.next=uo;function lo(){return new me}var xe=256;t.exports={default:r,BigInteger:r,SecureRandom:qe}}).call(Qo)})(Gt);const{BigInteger:qt}=Gt.exports;function us(t){let i=t.toString(16);if(i[0]!=="-")i.length%2===1?i="0"+i:i.match(/^[0-7]/)||(i="00"+i);else{i=i.substr(1);let s=i.length;s%2===1?s+=1:i.match(/^[0-7]/)||(s+=2);let a="";for(let u=0;u<s;u++)a+="f";a=new qt(a,16),i=a.xor(t).add(qt.ONE),i=i.toString(16).replace(/^-/,"")}return i}class Pn{constructor(){this.tlv=null,this.t="00",this.l="00",this.v=""}getEncodedHex(){return this.tlv||(this.v=this.getValue(),this.l=this.getLength(),this.tlv=this.t+this.l+this.v),this.tlv}getLength(){const i=this.v.length/2;let s=i.toString(16);return s.length%2===1&&(s="0"+s),i<128?s:(128+s.length/2).toString(16)+s}getValue(){return""}}class sn extends Pn{constructor(i){super(),this.t="02",i&&(this.v=us(i))}getValue(){return this.v}}class ls extends Pn{constructor(i){super(),this.t="30",this.asn1Array=i}getValue(){return this.v=this.asn1Array.map(i=>i.getEncodedHex()).join(""),this.v}}function Mn(t,i){return+t[i+2]<8?1:+t.substr(i+2,2)&127+1}function rn(t,i){const s=Mn(t,i),a=t.substr(i+2,s*2);return a?(+a[0]<8?new qt(a,16):new qt(a.substr(2),16)).intValue():-1}function be(t,i){const s=Mn(t,i);return i+(s+1)*2}var cs={encodeDer(t,i){const s=new sn(t),a=new sn(i);return new ls([s,a]).getEncodedHex()},decodeDer(t){const i=be(t,0),s=be(t,i),a=rn(t,i),u=t.substr(s,a*2),r=s+u.length,c=be(t,r),d=rn(t,r),x=t.substr(c,d*2),m=new qt(u,16),D=new qt(x,16);return{r:m,s:D}}};const{BigInteger:W}=Gt.exports,an=new W("2"),un=new W("3");class It{constructor(i,s){this.x=s,this.q=i}equals(i){return i===this?!0:this.q.equals(i.q)&&this.x.equals(i.x)}toBigInteger(){return this.x}negate(){return new It(this.q,this.x.negate().mod(this.q))}add(i){return new It(this.q,this.x.add(i.toBigInteger()).mod(this.q))}subtract(i){return new It(this.q,this.x.subtract(i.toBigInteger()).mod(this.q))}multiply(i){return new It(this.q,this.x.multiply(i.toBigInteger()).mod(this.q))}divide(i){return new It(this.q,this.x.multiply(i.toBigInteger().modInverse(this.q)).mod(this.q))}square(){return new It(this.q,this.x.square().mod(this.q))}}class Et{constructor(i,s,a,u){this.curve=i,this.x=s,this.y=a,this.z=u==null?W.ONE:u,this.zinv=null}getX(){return this.zinv===null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))}getY(){return this.zinv===null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))}equals(i){return i===this?!0:this.isInfinity()?i.isInfinity():i.isInfinity()?this.isInfinity():i.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(i.z)).mod(this.curve.q).equals(W.ZERO)?i.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(i.z)).mod(this.curve.q).equals(W.ZERO):!1}isInfinity(){return this.x===null&&this.y===null?!0:this.z.equals(W.ZERO)&&!this.y.toBigInteger().equals(W.ZERO)}negate(){return new Et(this.curve,this.x,this.y.negate(),this.z)}add(i){if(this.isInfinity())return i;if(i.isInfinity())return this;const s=this.x.toBigInteger(),a=this.y.toBigInteger(),u=this.z,r=i.x.toBigInteger(),c=i.y.toBigInteger(),d=i.z,x=this.curve.q,m=s.multiply(d).mod(x),D=r.multiply(u).mod(x),y=m.subtract(D),S=a.multiply(d).mod(x),P=c.multiply(u).mod(x),g=S.subtract(P);if(W.ZERO.equals(y))return W.ZERO.equals(g)?this.twice():this.curve.infinity;const p=m.add(D),B=u.multiply(d).mod(x),C=y.square().mod(x),I=y.multiply(C).mod(x),k=B.multiply(g.square()).subtract(p.multiply(C)).mod(x),R=y.multiply(k).mod(x),L=g.multiply(C.multiply(m).subtract(k)).subtract(S.multiply(I)).mod(x),H=I.multiply(B).mod(x);return new Et(this.curve,this.curve.fromBigInteger(R),this.curve.fromBigInteger(L),H)}twice(){if(this.isInfinity())return this;if(!this.y.toBigInteger().signum())return this.curve.infinity;const i=this.x.toBigInteger(),s=this.y.toBigInteger(),a=this.z,u=this.curve.q,r=this.curve.a.toBigInteger(),c=i.square().multiply(un).add(r.multiply(a.square())).mod(u),d=s.shiftLeft(1).multiply(a).mod(u),x=s.square().mod(u),m=x.multiply(i).multiply(a).mod(u),D=d.square().mod(u),y=c.square().subtract(m.shiftLeft(3)).mod(u),S=d.multiply(y).mod(u),P=c.multiply(m.shiftLeft(2).subtract(y)).subtract(D.shiftLeft(1).multiply(x)).mod(u),g=d.multiply(D).mod(u);return new Et(this.curve,this.curve.fromBigInteger(S),this.curve.fromBigInteger(P),g)}multiply(i){if(this.isInfinity())return this;if(!i.signum())return this.curve.infinity;const s=i.multiply(un),a=this.negate();let u=this;for(let r=s.bitLength()-2;r>0;r--){u=u.twice();const c=s.testBit(r),d=i.testBit(r);c!==d&&(u=u.add(c?this:a))}return u}}class fs{constructor(i,s,a){this.q=i,this.a=this.fromBigInteger(s),this.b=this.fromBigInteger(a),this.infinity=new Et(this,null,null)}equals(i){return i===this?!0:this.q.equals(i.q)&&this.a.equals(i.a)&&this.b.equals(i.b)}fromBigInteger(i){return new It(this.q,i)}decodePointHex(i){switch(parseInt(i.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:const s=this.fromBigInteger(new W(i.substr(2),16));let a=this.fromBigInteger(s.multiply(s.square()).add(s.multiply(this.a)).add(this.b).toBigInteger().modPow(this.q.divide(new W("4")).add(W.ONE),this.q));return a.toBigInteger().mod(an).equals(new W(i.substr(0,2),16).subtract(an))||(a=a.negate()),new Et(this,s,a);case 4:case 6:case 7:const u=(i.length-2)/2,r=i.substr(2,u),c=i.substr(u+2,u);return new Et(this,this.fromBigInteger(new W(r,16)),this.fromBigInteger(new W(c,16)));default:return null}}}var hs={ECPointFp:Et,ECCurveFp:fs};const{BigInteger:mt,SecureRandom:ds}=Gt.exports,{ECCurveFp:ms}=hs,xs=new ds,{curve:Ot,G:ps,n:ln}=Rn();function gs(){return Ot}function Rn(){const t=new mt("FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000FFFFFFFFFFFFFFFF",16),i=new mt("FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000FFFFFFFFFFFFFFFC",16),s=new mt("28E9FA9E9D9F5E344D5A9E4BCF6509A7F39789F515AB8F92DDBCBD414D940E93",16),a=new ms(t,i,s),u="32C4AE2C1F1981195F9904466A39C9948FE30BBFF2660BE1715A4589334C74C7",r="BC3736A2F4F6779C59BDCEE36B692153D0A9877CC62A474002DF32E52139F0A0",c=a.decodePointHex("04"+u+r),d=new mt("FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFF7203DF6B21C6052B53BBF40939D54123",16);return{curve:a,G:c,n:d}}function vs(t,i,s){const u=(t?new mt(t,i,s):new mt(ln.bitLength(),xs)).mod(ln.subtract(mt.ONE)).add(mt.ONE),r=zt(u.toString(16),64),c=ps.multiply(u),d=zt(c.getX().toBigInteger().toString(16),64),x=zt(c.getY().toBigInteger().toString(16),64),m="04"+d+x;return{privateKey:r,publicKey:m}}function ys(t){if(t.length!==130)throw new Error("Invalid public key to compress");const i=(t.length-2)/2,s=t.substr(2,i),a=new mt(t.substr(i+2,i),16);let u="03";return a.mod(new mt("2")).equals(mt.ZERO)&&(u="02"),u+s}function bs(t){t=unescape(encodeURIComponent(t));const i=t.length,s=[];for(let u=0;u<i;u++)s[u>>>2]|=(t.charCodeAt(u)&255)<<24-u%4*8;const a=[];for(let u=0;u<i;u++){const r=s[u>>>2]>>>24-u%4*8&255;a.push((r>>>4).toString(16)),a.push((r&15).toString(16))}return a.join("")}function zt(t,i){return t.length>=i?t:new Array(i-t.length+1).join("0")+t}function Ts(t){return t.map(i=>(i=i.toString(16),i.length===1?"0"+i:i)).join("")}function ws(t){const i=[];let s=0;for(let a=0;a<t.length*2;a+=2)i[a>>>3]|=parseInt(t[s],10)<<24-a%8*4,s++;try{const a=[];for(let u=0;u<t.length;u++){const r=i[u>>>2]>>>24-u%4*8&255;a.push(String.fromCharCode(r))}return decodeURIComponent(escape(a.join("")))}catch{throw new Error("Malformed UTF-8 data")}}function Fs(t){const i=[];let s=t.length;s%2!==0&&(t=zt(t,s+1)),s=t.length;for(let a=0;a<s;a+=2)i.push(parseInt(t.substr(a,2),16));return i}function Bs(t){const i=Ot.decodePointHex(t);if(!i)return!1;const s=i.getX();return i.getY().square().equals(s.multiply(s.square()).add(s.multiply(Ot.a)).add(Ot.b))}function Ds(t,i){const s=Ot.decodePointHex(t);if(!s)return!1;const a=Ot.decodePointHex(i);return a?s.equals(a):!1}var Is={getGlobalCurve:gs,generateEcparam:Rn,generateKeyPairHex:vs,compressPublicKeyHex:ys,utf8ToHex:bs,leftPad:zt,arrayToHex:Ts,arrayToUtf8:ws,hexToArray:Fs,verifyPublicKey:Bs,comparePublicKeyHex:Ds};function rt(t,i){const s=[],a=~~(i/8),u=i%8;for(let r=0,c=t.length;r<c;r++)s[r]=(t[(r+a)%c]<<u&255)+(t[(r+a+1)%c]>>>8-u&255);return s}function Y(t,i){const s=[];for(let a=t.length-1;a>=0;a--)s[a]=(t[a]^i[a])&255;return s}function Kt(t,i){const s=[];for(let a=t.length-1;a>=0;a--)s[a]=t[a]&i[a]&255;return s}function we(t,i){const s=[];for(let a=t.length-1;a>=0;a--)s[a]=(t[a]|i[a])&255;return s}function Bt(t,i){const s=[];let a=0;for(let u=t.length-1;u>=0;u--){const r=t[u]+i[u]+a;r>255?(a=1,s[u]=r&255):(a=0,s[u]=r&255)}return s}function Ss(t){const i=[];for(let s=t.length-1;s>=0;s--)i[s]=~t[s]&255;return i}function Cs(t){return Y(Y(t,rt(t,9)),rt(t,17))}function Es(t){return Y(Y(t,rt(t,15)),rt(t,23))}function As(t,i,s,a){return a>=0&&a<=15?Y(Y(t,i),s):we(we(Kt(t,i),Kt(t,s)),Kt(i,s))}function Ps(t,i,s,a){return a>=0&&a<=15?Y(Y(t,i),s):we(Kt(t,i),Kt(Ss(t),s))}function Ms(t,i){const s=[],a=[];for(let I=0;I<16;I++){const k=I*4;s.push(i.slice(k,k+4))}for(let I=16;I<68;I++)s.push(Y(Y(Es(Y(Y(s[I-16],s[I-9]),rt(s[I-3],15))),rt(s[I-13],7)),s[I-6]));for(let I=0;I<64;I++)a.push(Y(s[I],s[I+4]));const u=[121,204,69,25],r=[122,135,157,138];let c=t.slice(0,4),d=t.slice(4,8),x=t.slice(8,12),m=t.slice(12,16),D=t.slice(16,20),y=t.slice(20,24),S=t.slice(24,28),P=t.slice(28,32),g,p,B,C;for(let I=0;I<64;I++){const k=I>=0&&I<=15?u:r;g=rt(Bt(Bt(rt(c,12),D),rt(k,I)),7),p=Y(g,rt(c,12)),B=Bt(Bt(Bt(As(c,d,x,I),m),p),a[I]),C=Bt(Bt(Bt(Ps(D,y,S,I),P),g),s[I]),m=x,x=rt(d,9),d=c,c=B,P=S,S=rt(y,19),y=D,D=Cs(C)}return Y([].concat(c,d,x,m,D,y,S,P),t)}function ue(t){let i=t.length*8,s=i%512;s=s>=448?512-s%448-1:448-s-1;const a=new Array((s-7)/8);for(let x=0,m=a.length;x<m;x++)a[x]=0;const u=[];i=i.toString(2);for(let x=7;x>=0;x--)if(i.length>8){const m=i.length-8;u[x]=parseInt(i.substr(m),2),i=i.substr(0,m)}else i.length>0?(u[x]=parseInt(i,2),i=""):u[x]=0;const r=[].concat(t,[128],a,u),c=r.length/64;let d=[115,128,22,111,73,20,178,185,23,36,66,215,218,138,6,0,169,111,48,188,22,49,56,170,227,141,238,77,176,251,14,78];for(let x=0;x<c;x++){const m=64*x,D=r.slice(m,m+64);d=Ms(d,D)}return d}const jt=64,Vn=new Array(jt),kn=new Array(jt);for(let t=0;t<jt;t++)Vn[t]=54,kn[t]=92;function Rs(t,i){for(i.length>jt&&(i=ue(i));i.length<jt;)i.push(0);let a=Y(i,Vn).concat(t);return a=ue(a),a=Y(i,kn).concat(a),a=ue(a),a}var _n={sm3:ue,hmac:Rs};const{BigInteger:nt}=Gt.exports,{encodeDer:Vs,decodeDer:ks}=cs,M=Is,Ht=_n.sm3,{G:Rt,curve:On,n:Vt}=M.generateEcparam(),qn=0;function _s(t,i,s=1){t=typeof t=="string"?M.hexToArray(M.utf8ToHex(t)):Array.prototype.slice.call(t),i=M.getGlobalCurve().decodePointHex(i);const a=M.generateKeyPairHex(),u=new nt(a.privateKey,16);let r=a.publicKey;r.length>128&&(r=r.substr(r.length-128));const c=i.multiply(u),d=M.hexToArray(M.leftPad(c.getX().toBigInteger().toRadix(16),64)),x=M.hexToArray(M.leftPad(c.getY().toBigInteger().toRadix(16),64)),m=M.arrayToHex(Ht([].concat(d,t,x)));let D=1,y=0,S=[];const P=[].concat(d,x),g=()=>{S=Ht([...P,D>>24&255,D>>16&255,D>>8&255,D&255]),D++,y=0};g();for(let B=0,C=t.length;B<C;B++)y===S.length&&g(),t[B]^=S[y++]&255;const p=M.arrayToHex(t);return s===qn?r+p+m:r+m+p}function Os(t,i,s=1,{output:a="string"}={}){i=new nt(i,16);let u=t.substr(128,64),r=t.substr(128+64);s===qn&&(u=t.substr(t.length-64),r=t.substr(128,t.length-128-64));const c=M.hexToArray(r),x=M.getGlobalCurve().decodePointHex("04"+t.substr(0,128)).multiply(i),m=M.hexToArray(M.leftPad(x.getX().toBigInteger().toRadix(16),64)),D=M.hexToArray(M.leftPad(x.getY().toBigInteger().toRadix(16),64));let y=1,S=0,P=[];const g=[].concat(m,D),p=()=>{P=Ht([...g,y>>24&255,y>>16&255,y>>8&255,y&255]),y++,S=0};p();for(let C=0,I=c.length;C<I;C++)S===P.length&&p(),c[C]^=P[S++]&255;return M.arrayToHex(Ht([].concat(m,c,D)))===u.toLowerCase()?a==="array"?c:M.arrayToUtf8(c):a==="array"?[]:""}function qs(t,i,{pointPool:s,der:a,hash:u,publicKey:r,userId:c}={}){let d=typeof t=="string"?M.utf8ToHex(t):M.arrayToHex(t);u&&(r=r||Ns(i),d=Hn(d,r,c));const x=new nt(i,16),m=new nt(d,16);let D=null,y=null,S=null;do{do{let P;s&&s.length?P=s.pop():P=Nn(),D=P.k,y=m.add(P.x1).mod(Vt)}while(y.equals(nt.ZERO)||y.add(D).equals(Vt));S=x.add(nt.ONE).modInverse(Vt).multiply(D.subtract(y.multiply(x))).mod(Vt)}while(S.equals(nt.ZERO));return a?Vs(y,S):M.leftPad(y.toString(16),64)+M.leftPad(S.toString(16),64)}function Hs(t,i,s,{der:a,hash:u,userId:r}={}){let c=typeof t=="string"?M.utf8ToHex(t):M.arrayToHex(t);u&&(c=Hn(c,s,r));let d,x;if(a){const g=ks(i);d=g.r,x=g.s}else d=new nt(i.substring(0,64),16),x=new nt(i.substring(64),16);const m=On.decodePointHex(s),D=new nt(c,16),y=d.add(x).mod(Vt);if(y.equals(nt.ZERO))return!1;const S=Rt.multiply(x).add(m.multiply(y)),P=D.add(S.getX().toBigInteger()).mod(Vt);return d.equals(P)}function Hn(t,i,s="1234567812345678"){s=M.utf8ToHex(s);const a=M.leftPad(Rt.curve.a.toBigInteger().toRadix(16),64),u=M.leftPad(Rt.curve.b.toBigInteger().toRadix(16),64),r=M.leftPad(Rt.getX().toBigInteger().toRadix(16),64),c=M.leftPad(Rt.getY().toBigInteger().toRadix(16),64);let d,x;if(i.length===128)d=i.substr(0,64),x=i.substr(64,64);else{const S=Rt.curve.decodePointHex(i);d=M.leftPad(S.getX().toBigInteger().toRadix(16),64),x=M.leftPad(S.getY().toBigInteger().toRadix(16),64)}const m=M.hexToArray(s+a+u+r+c+d+x),D=s.length*4;m.unshift(D&255),m.unshift(D>>8&255);const y=Ht(m);return M.arrayToHex(Ht(y.concat(M.hexToArray(t))))}function Ns(t){const i=Rt.multiply(new nt(t,16)),s=M.leftPad(i.getX().toBigInteger().toString(16),64),a=M.leftPad(i.getY().toBigInteger().toString(16),64);return"04"+s+a}function Nn(){const t=M.generateKeyPairHex(),i=On.decodePointHex(t.publicKey);return t.k=new nt(t.privateKey,16),t.x1=i.getX().toBigInteger(),t}var $s={generateKeyPairHex:M.generateKeyPairHex,compressPublicKeyHex:M.compressPublicKeyHex,comparePublicKeyHex:M.comparePublicKeyHex,doEncrypt:_s,doDecrypt:Os,doSignature:qs,doVerifySignature:Hs,getPoint:Nn,verifyPublicKey:M.verifyPublicKey};const{sm3:Ls,hmac:Us}=_n;function zs(t,i){return t.length>=i?t:new Array(i-t.length+1).join("0")+t}function cn(t){return t.map(i=>(i=i.toString(16),i.length===1?"0"+i:i)).join("")}function Ks(t){const i=[];let s=t.length;s%2!==0&&(t=zs(t,s+1)),s=t.length;for(let a=0;a<s;a+=2)i.push(parseInt(t.substr(a,2),16));return i}function js(t){const i=[];for(let s=0,a=t.length;s<a;s++){const u=t.codePointAt(s);if(u<=127)i.push(u);else if(u<=2047)i.push(192|u>>>6),i.push(128|u&63);else if(u<=55295||u>=57344&&u<=65535)i.push(224|u>>>12),i.push(128|u>>>6&63),i.push(128|u&63);else if(u>=65536&&u<=1114111)s++,i.push(240|u>>>18&28),i.push(128|u>>>12&63),i.push(128|u>>>6&63),i.push(128|u&63);else throw i.push(u),new Error("input is not supported")}return i}var Ys=function(t,i){if(t=typeof t=="string"?js(t):Array.prototype.slice.call(t),i){if((i.mode||"hmac")!=="hmac")throw new Error("invalid mode");let a=i.key;if(!a)throw new Error("invalid key");return a=typeof a=="string"?Ks(a):Array.prototype.slice.call(a),cn(Us(t,a))}return cn(Ls(t))};const Dt=0,Zs=32,Mt=16,ie=[214,144,233,254,204,225,61,183,22,182,20,194,40,251,44,5,43,103,154,118,42,190,4,195,170,68,19,38,73,134,6,153,156,66,80,244,145,239,152,122,51,84,11,67,237,207,172,98,228,179,28,169,201,8,232,149,128,223,148,250,117,143,63,166,71,7,167,252,243,115,23,186,131,89,60,25,230,133,79,168,104,107,129,178,113,100,218,139,248,235,15,75,112,86,157,53,30,36,14,94,99,88,209,162,37,34,124,59,1,33,120,135,212,0,70,87,159,211,39,82,76,54,2,231,160,196,200,158,234,191,138,210,64,199,56,181,163,247,242,206,249,97,21,161,224,174,93,164,155,52,26,85,173,147,50,48,245,140,177,227,29,246,226,46,130,102,202,96,192,41,35,171,13,83,78,111,213,219,55,69,222,253,142,47,3,255,106,114,109,108,91,81,141,27,175,146,187,221,188,127,17,217,92,65,31,16,90,216,10,193,49,136,165,205,123,189,45,116,208,18,184,229,180,176,137,105,151,74,12,150,119,126,101,185,241,9,197,110,198,132,24,240,125,236,58,220,77,32,121,238,95,62,215,203,57,72],oe=[462357,472066609,943670861,1415275113,1886879365,2358483617,2830087869,3301692121,3773296373,4228057617,404694573,876298825,1347903077,1819507329,2291111581,2762715833,3234320085,3705924337,4177462797,337322537,808926789,1280531041,1752135293,2223739545,2695343797,3166948049,3638552301,4110090761,269950501,741554753,1213159005,1684763257];function Te(t){const i=[];for(let s=0,a=t.length;s<a;s+=2)i.push(parseInt(t.substr(s,2),16));return i}function Gs(t){return t.map(i=>(i=i.toString(16),i.length===1?"0"+i:i)).join("")}function Js(t){const i=[];for(let s=0,a=t.length;s<a;s++){const u=t.codePointAt(s);if(u<=127)i.push(u);else if(u<=2047)i.push(192|u>>>6),i.push(128|u&63);else if(u<=55295||u>=57344&&u<=65535)i.push(224|u>>>12),i.push(128|u>>>6&63),i.push(128|u&63);else if(u>=65536&&u<=1114111)s++,i.push(240|u>>>18&28),i.push(128|u>>>12&63),i.push(128|u>>>6&63),i.push(128|u&63);else throw i.push(u),new Error("input is not supported")}return i}function Xs(t){const i=[];for(let s=0,a=t.length;s<a;s++)t[s]>=240&&t[s]<=247?(i.push(String.fromCodePoint(((t[s]&7)<<18)+((t[s+1]&63)<<12)+((t[s+2]&63)<<6)+(t[s+3]&63))),s+=3):t[s]>=224&&t[s]<=239?(i.push(String.fromCodePoint(((t[s]&15)<<12)+((t[s+1]&63)<<6)+(t[s+2]&63))),s+=2):t[s]>=192&&t[s]<=223?(i.push(String.fromCodePoint(((t[s]&31)<<6)+(t[s+1]&63))),s++):i.push(String.fromCodePoint(t[s]));return i.join("")}function kt(t,i){return t<<i|t>>>32-i}function Ct(t){return(ie[t>>>24&255]&255)<<24|(ie[t>>>16&255]&255)<<16|(ie[t>>>8&255]&255)<<8|ie[t&255]&255}function se(t){return t^kt(t,2)^kt(t,10)^kt(t,18)^kt(t,24)}function re(t){return t^kt(t,13)^kt(t,23)}function Ws(t,i,s){const a=new Array(4),u=new Array(4);for(let r=0;r<4;r++)u[0]=t[4*r]&255,u[1]=t[4*r+1]&255,u[2]=t[4*r+2]&255,u[3]=t[4*r+3]&255,a[r]=u[0]<<24|u[1]<<16|u[2]<<8|u[3];for(let r=0,c;r<32;r+=4)c=a[1]^a[2]^a[3]^s[r+0],a[0]^=se(Ct(c)),c=a[2]^a[3]^a[0]^s[r+1],a[1]^=se(Ct(c)),c=a[3]^a[0]^a[1]^s[r+2],a[2]^=se(Ct(c)),c=a[0]^a[1]^a[2]^s[r+3],a[3]^=se(Ct(c));for(let r=0;r<16;r+=4)i[r]=a[3-r/4]>>>24&255,i[r+1]=a[3-r/4]>>>16&255,i[r+2]=a[3-r/4]>>>8&255,i[r+3]=a[3-r/4]&255}function Qs(t,i,s){const a=new Array(4),u=new Array(4);for(let r=0;r<4;r++)u[0]=t[0+4*r]&255,u[1]=t[1+4*r]&255,u[2]=t[2+4*r]&255,u[3]=t[3+4*r]&255,a[r]=u[0]<<24|u[1]<<16|u[2]<<8|u[3];a[0]^=2746333894,a[1]^=1453994832,a[2]^=1736282519,a[3]^=2993693404;for(let r=0,c;r<32;r+=4)c=a[1]^a[2]^a[3]^oe[r+0],i[r+0]=a[0]^=re(Ct(c)),c=a[2]^a[3]^a[0]^oe[r+1],i[r+1]=a[1]^=re(Ct(c)),c=a[3]^a[0]^a[1]^oe[r+2],i[r+2]=a[2]^=re(Ct(c)),c=a[0]^a[1]^a[2]^oe[r+3],i[r+3]=a[3]^=re(Ct(c));if(s===Dt)for(let r=0,c;r<16;r++)c=i[r],i[r]=i[31-r],i[31-r]=c}function fn(t,i,s,{padding:a="pkcs#7",mode:u,iv:r=[],output:c="string"}={}){if(u==="cbc"&&(typeof r=="string"&&(r=Te(r)),r.length!==128/8))throw new Error("iv is invalid");if(typeof i=="string"&&(i=Te(i)),i.length!==128/8)throw new Error("key is invalid");if(typeof t=="string"?s!==Dt?t=Js(t):t=Te(t):t=[...t],(a==="pkcs#5"||a==="pkcs#7")&&s!==Dt){const S=Mt-t.length%Mt;for(let P=0;P<S;P++)t.push(S)}const d=new Array(Zs);Qs(i,d,s);const x=[];let m=r,D=t.length,y=0;for(;D>=Mt;){const S=t.slice(y,y+16),P=new Array(16);if(u==="cbc")for(let g=0;g<Mt;g++)s!==Dt&&(S[g]^=m[g]);Ws(S,P,d);for(let g=0;g<Mt;g++)u==="cbc"&&s===Dt&&(P[g]^=m[g]),x[y+g]=P[g];u==="cbc"&&(s!==Dt?m=P:m=S),D-=Mt,y+=Mt}if((a==="pkcs#5"||a==="pkcs#7")&&s===Dt){const S=x.length,P=x[S-1];for(let g=1;g<=P;g++)if(x[S-g]!==P)throw new Error("padding is invalid");x.splice(S-P,P)}return c!=="array"?s!==Dt?Gs(x):Xs(x):x}var tr={encrypt(t,i,s){return fn(t,i,1,s)},decrypt(t,i,s){return fn(t,i,0,s)}},Jt={sm2:$s,sm3:Ys,sm4:tr};const er=0,$n={privateKey:"AMPADS+BSbpTPdgX+/yduAxH4ys5lONk4zPgB/NYSlAZ",publicKey:"BDzop8PNh8mH/Iifslhrc86Z14mxbUKGNUR5VR34F9E8PmEDcYqIdRaoG2gpzHVgcCHE8jl9YVVFGvu89do0pps="},he=t=>cr(lr(t)),Fe=he($n.publicKey),nr=he($n.privateKey),ir=he("BF1bKDid/tOtJP71NlkwkvszkfdPkjpNGj2Z35IVM14qijMyuvlp3ohCAqWZ0J6h7UeAKRe/scFGhHosqfzzCng="),or=(t,i)=>Jt.sm4.encrypt(t,i),sr=(t,i)=>Jt.sm4.decrypt(t,i),rr=t=>`04${Jt.sm2.doEncrypt(t,ir,er)}`,ar=t=>Jt.sm2.doSignature(t,nr,{hash:!0,publicKey:Fe,der:!0}),ur=(t,i)=>Jt.sm2.doVerifySignature(t,i,Fe,{hash:!0,publicKey:Fe,der:!0});function lr(t){const i=[];let s,a,u,r,c,d,x,m=0;const D=t;if(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),D!==t&&alert("Warning! Characters outside Base64 range in input string ignored."),t.length%4)return alert("Error: Input length is not a multiple of 4 bytes."),"";let y=0;const S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";for(;m<t.length;)r=S.indexOf(t.charAt(m++)),c=S.indexOf(t.charAt(m++)),d=S.indexOf(t.charAt(m++)),x=S.indexOf(t.charAt(m++)),s=r<<2|c>>4,a=(c&15)<<4|d>>2,u=(d&3)<<6|x,i[y++]=s,d!==64&&(i[y++]=a),x!==64&&(i[y++]=u);return i}function cr(t){return t?t.map(i=>{const s=i.toString(16);return s.length===1?"0"+s:s}).join(""):""}function hn(t){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";let s="",a,u=0,r=0;for(let d=0;d<t.length;++d)t[d]>="A"&&t[d]<="Z"?a=t.charCodeAt(d)-55:t[d]>="a"&&t[d]<="z"?a=t.charCodeAt(d)-87:a=t.charCodeAt(d)-48,u=u<<4|a,r+=4,r>=6&&(r-=6,s+=i[u>>>r],u&=~(-1<<r));r>0&&(u<<=6-r,s+=i[u]);const c=s.length%4;if(c>0)for(let d=0;d<4-c;++d)s+="=";return s}const Ln=t=>{const i=new Map,s=Object.keys(t);s.sort(),s.forEach(u=>i.set(u,t[u]));let a="";return i.forEach((u,r)=>a+=`${r}=${u}&`),a.slice(0,-1)};let le,dn;const mn=(t,i)=>{le=on().replaceAll("-",""),dn=rr(le);const s=or(JSON.stringify(t),le),a=on().replaceAll("-",""),u=Date.now(),r={clientId:i,data:s,requestId:a,sm4Key:hn(dn),timestamp:u},c=Ln(r),d=hn(ar(c));return Ue(Le({},r),{sign:d})},xn=t=>{const u=t,{sign:i}=u,s=ze(u,["sign"]);return ur(Ln(s),he(i))},pn=t=>sr(t,le);const fr={class:"form-wrap"},hr=Lt("\u8BC1\u4EF6\u6709\u6548\u671F"),dr=fe("div",{class:"radio-title"},"\u76F4\u63A5\u8DF3\u8F6C",-1),mr=Lt("\u751F\u6D3B\u53F7"),xr=fe("div",{class:"radio-title"},"\u8DF3\u8F6C\u7A7A\u767D\u9875\u9762\u540E\u91CD\u5B9A\u5411",-1),pr=Lt("\u751F\u6D3B\u53F7"),gr=Lt("MINI PROGRAM"),vr={style:{margin:"16px"}},yr=Lt("\u63D0\u4EA4"),br=fe("br",null,null,-1),Tr=Lt("v3 token"),wr=Nt({setup(t){const{VITE_CLIENT_ID:i,VITE_CLIENT_SECRET:s}=ae(),a=$(i),u=$(s),r=$(!1),c=[16,18,64,66],d=$(64),x=$(c.findIndex(b=>b===d.value)),m=$(""),D=$(""),y=$(!1),S=$(0),P=[new Date(2e3,0,1),new Date],g=[new Date,new Date(2050,11,31)],p=$([P,g][S.value]),B=$(new Date(2e3,0,1)),C=$(new Date(2030,11,31)),I=["H5","MINI"],k=$("2"),R=b=>{d.value=b,r.value=!1},L=b=>{S.value?C.value=b:B.value=b,y.value=!1},H=yt(()=>B.value.toLocaleDateString()),K=yt(()=>C.value.toLocaleDateString()),ut=async()=>{let{accessToken:b}=await ts({clientId:a.value,clientSecret:u.value}),v=location.href.indexOf("?")===-1?location.href:location.href.substring(0,location.href.indexOf("?")),_={accessToken:b,authType:"GzhRegular",mode:d.value,extraParams:{foreBackUrl:v},businessInfo:{subject:"\u8EAB\u4EFD\u9A8C\u8BC1"},idInfo:{fullName:m.value,idNum:D.value}},{tokenInfo:O}=await es(_),{certToken:J}=O,Z=Number(k.value),Q;if(Z){let it=I[Z-1];const{MODE:lt,VITE_DEMO_BASE_URL:ot}=ae();Q=`${`${lt==="production"?ot:"https://sfrz.wsbs.shxga.gov.cn"}`}/authgzh/auth?certToken=${J}&env=${it}`}else{const{MODE:it,VITE_AUTH_BASE_URL:lt,VITE_PROXY_AUTH_BASE_URL:ot}=ae();Q=`${`${it==="production"?lt:ot}`}/auth?certToken=${J}`}window.location.replace(Q)},N=async()=>{let b="https://sfrz.wsbs.shxga.gov.cn/sit/shanxiauthweb/transfer.html",v={authData:{mode:64,idInfo:{fullName:m.value,idNum:D.value}}},_=mn(v,a.value),O=await ns(_),J=xn(O);console.log(J);let Z=pn(O.data);const{gawzbz:Q}=JSON.parse(Z);let it={mode:d.value,authType:"GzhRegular",idInfo:{gawzbz:Q},businessInfo:{subject:"\u8EAB\u4EFD\u9A8C\u8BC1"},extraParams:{foreBackUrl:b}};_=mn(it,a.value),O=await is(_),J=xn(O),console.log(J),Z=pn(O.data);const{certToken:lt}=JSON.parse(Z);let ot="https://sfrz.wsbs.shxga.gov.cn/authlife";return window.location.href=`${ot}/auth?certToken=${lt}`},G=(b,v)=>b==="year"?`${v}\u5E74`:b==="month"?`${v}\u6708`:b==="day"?`${v}\u65E5`:v;return De(()=>{let b=decodeURIComponent(window.location.href),v=b.substring(b.indexOf("?")+1);const O=new URLSearchParams(v).get("errorMsg");if(O)return Co({message:`\u8BA4\u8BC1${O}`,forbidClick:!0})}),(b,v)=>{const _=pt("van-field"),O=pt("van-divider"),J=pt("van-cell-group"),Z=pt("van-radio"),Q=pt("van-radio-group"),it=pt("van-button"),lt=pt("van-picker"),ot=pt("van-popup"),w=pt("van-datetime-picker"),A=pt("van-form");return Ye(),Ze("div",fr,[V(A,{onSubmit:ut},{default:dt(()=>[V(J,{inset:""},{default:dt(()=>[V(_,{modelValue:a.value,"onUpdate:modelValue":v[0]||(v[0]=E=>a.value=E),name:"\u8D26\u53F7",label:"\u8D26\u53F7",placeholder:"\u8D26\u53F7",clearable:"",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u8D26\u53F7"}]},null,8,["modelValue"]),V(_,{modelValue:u.value,"onUpdate:modelValue":v[1]||(v[1]=E=>u.value=E),name:"\u5BC6\u7801",label:"\u5BC6\u7801",placeholder:"\u5BC6\u7801",clearable:"",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5BC6\u7801"}]},null,8,["modelValue"]),V(_,{modelValue:d.value,"onUpdate:modelValue":v[2]||(v[2]=E=>d.value=E),readonly:"","is-link":"",name:"\u8BA4\u8BC1\u6A21\u5F0F",label:"\u8BA4\u8BC1\u6A21\u5F0F",placeholder:"\u8BA4\u8BC1\u6A21\u5F0F",onClick:v[3]||(v[3]=E=>r.value=!0)},null,8,["modelValue"]),V(_,{modelValue:m.value,"onUpdate:modelValue":v[4]||(v[4]=E=>m.value=E),name:"\u59D3\u540D",label:"\u59D3\u540D",maxlength:"18",placeholder:"\u59D3\u540D"},null,8,["modelValue"]),V(_,{modelValue:D.value,"onUpdate:modelValue":v[5]||(v[5]=E=>D.value=E),name:"\u8BC1\u4EF6\u53F7\u7801",label:"\u8BC1\u4EF6\u53F7\u7801",maxlength:"18",placeholder:"\u8BC1\u4EF6\u53F7\u7801"},null,8,["modelValue"]),[16,18].includes(Number(d.value))?(Ye(),Ze(Bo,{key:0},[V(O,{"content-position":"left"},{default:dt(()=>[hr]),_:1}),V(_,{modelValue:Ge(H),"onUpdate:modelValue":v[6]||(v[6]=E=>Je(H)?H.value=E:null),readonly:"","is-link":"",name:"\u8D77\u59CB\u65E5\u671F",label:"\u8D77\u59CB\u65E5\u671F",onClick:v[7]||(v[7]=E=>{S.value=0,y.value=!0})},null,8,["modelValue"]),V(_,{modelValue:Ge(K),"onUpdate:modelValue":v[8]||(v[8]=E=>Je(K)?K.value=E:null),readonly:"","is-link":"",name:"\u622A\u6B62\u65E5\u671F",label:"\u622A\u6B62\u65E5\u671F",onClick:v[9]||(v[9]=E=>{S.value=1,y.value=!0})},null,8,["modelValue"])],64)):Do("",!0)]),_:1}),V(Q,{class:"radio-box",modelValue:k.value,"onUpdate:modelValue":v[10]||(v[10]=E=>k.value=E)},{default:dt(()=>[dr,V(Z,{name:"0"},{default:dt(()=>[mr]),_:1}),xr,V(Z,{name:"1"},{default:dt(()=>[pr]),_:1}),V(Z,{name:"2"},{default:dt(()=>[gr]),_:1})]),_:1},8,["modelValue"]),fe("div",vr,[V(it,{round:"",block:"",type:"primary","native-type":"submit"},{default:dt(()=>[yr]),_:1}),br,V(it,{round:"",block:"",type:"primary",onClick:N},{default:dt(()=>[Tr]),_:1})]),V(ot,{show:r.value,"onUpdate:show":v[12]||(v[12]=E=>r.value=E),round:"",position:"bottom"},{default:dt(()=>[V(lt,{columns:c,defaultIndex:x.value,onCancel:v[11]||(v[11]=E=>r.value=!1),onConfirm:R},null,8,["defaultIndex"])]),_:1},8,["show"]),V(ot,{show:y.value,"onUpdate:show":v[14]||(v[14]=E=>y.value=E),round:"",position:"bottom"},{default:dt(()=>[V(w,{modelValue:[B.value,C.value][S.value],"onUpdate:modelValue":v[13]||(v[13]=E=>[B.value,C.value][S.value]=E),title:"\u9009\u62E9\u65E5\u671F",type:"date","min-date":p.value[0],"max-date":p.value[1],formatter:G,onConfirm:L},null,8,["modelValue","min-date","max-date"])]),_:1},8,["show"])]),_:1})])}}});Io(wr).use(So).use(Mo).use(Ro).use(Vo).use(ko).use(_o).use(Ee).use(Po).use(Wo).use(Eo).mount("#app");
