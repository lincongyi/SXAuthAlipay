import{r as n,e as u,o as k,c as w,f as a,w as l,u as I,i as T,a as g,d as p,g as y,B as N}from"./normalize.07298e93.js";import{s as x}from"./index.2e83570f.js";import{F as S,a as B,C}from"./index.8ab36336.js";import{R as z,a as L}from"./index.ffd36224.js";import"./index.0e8fd7f3.js";function A(d){return x({baseURL:"https://sfrz.wsbs.shxga.gov.cn",url:"/getaccesstoken",method:"get",params:d})}function M(d){return x({baseURL:"https://sfrz.wsbs.shxga.gov.cn",url:"/authreq",method:"post",data:d})}const $={class:"form-wrap"},D=g("div",{class:"radio-title"},"\u76F4\u63A5\u8DF3\u8F6C",-1),O=p("\u751F\u6D3B\u53F7"),q=g("div",{class:"radio-title"},"\u8DF3\u8F6C\u7A7A\u767D\u9875\u9762\u540E\u91CD\u5B9A\u5411",-1),G=p("\u516C\u4F17\u53F7or\u751F\u6D3B\u53F7"),F=p("MINI PROGRAM"),P={style:{margin:"16px"}},H=p("\u63D0\u4EA4"),j={setup(d){const v=n("dabby_dev_al"),f=n("dabby_dev_al"),b=n(66),i=n(""),m=n(""),R=["H5","MINI"],h=n("2"),U=async()=>{console.log({VITE_USER_NODE_ENV:"production",VITE_AUTH_BASE_URL:"https://sfrz.wsbs.shxga.gov.cn/authlife",VITE_DEMO_BASE_URL:"https://sfrz.wsbs.shxga.gov.cn",VITE_CLIENT_ID:"dabby_dev_al",VITE_CLIENT_SECRET:"dabby_dev_al",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0});let{accessToken:V}=await A({clientId:v.value,clientSecret:f.value}),e={accessToken:V,authType:"GzhRegular",mode:b.value,extraParams:{foreBackUrl:location.href},businessInfo:{subject:"\u8EAB\u4EFD\u9A8C\u8BC1"},idInfo:{fullName:i.value,idNum:m.value}},{tokenInfo:t}=await M(e),{certToken:c}=t,s=Number(h.value),r;if(s){let _=R[s-1];r=`https://sfrz.wsbs.shxga.gov.cn/authgzh/auth?certToken=${c}&env=${_}`}else r=`https://sfrz.wsbs.shxga.gov.cn/authlife/auth?certToken=${c}`;window.location.replace(r)};return(V,e)=>{const t=u("van-field"),c=u("van-cell-group"),s=u("van-radio"),r=u("van-radio-group"),_=u("van-button"),E=u("van-form");return k(),w("div",$,[a(E,{onSubmit:U},{default:l(()=>[a(c,{inset:""},{default:l(()=>[a(t,{modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=o=>v.value=o),name:"\u8D26\u53F7",label:"\u8D26\u53F7",placeholder:"\u8D26\u53F7",clearable:"",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u8D26\u53F7"}]},null,8,["modelValue"]),a(t,{modelValue:f.value,"onUpdate:modelValue":e[1]||(e[1]=o=>f.value=o),type:"clientSecret",name:"\u5BC6\u7801",label:"\u5BC6\u7801",placeholder:"\u5BC6\u7801",clearable:"",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5BC6\u7801"}]},null,8,["modelValue"]),a(t,{modelValue:b.value,"onUpdate:modelValue":e[2]||(e[2]=o=>b.value=o),name:"\u8BA4\u8BC1\u6A21\u5F0F",label:"\u8BA4\u8BC1\u6A21\u5F0F",placeholder:"\u8BA4\u8BC1\u6A21\u5F0F",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u8BA4\u8BC1\u6A21\u5F0F"}]},null,8,["modelValue"]),a(t,{modelValue:I(i),"onUpdate:modelValue":e[3]||(e[3]=o=>T(i)?i.value=o:null),name:"\u59D3\u540D",label:"\u59D3\u540D",maxlength:"18",placeholder:"\u59D3\u540D"},null,8,["modelValue"]),a(t,{modelValue:I(m),"onUpdate:modelValue":e[4]||(e[4]=o=>T(m)?m.value=o:null),name:"\u8BC1\u4EF6\u53F7\u7801",label:"\u8BC1\u4EF6\u53F7\u7801",maxlength:"18",placeholder:"\u8BC1\u4EF6\u53F7\u7801"},null,8,["modelValue"])]),_:1}),a(r,{class:"radio-box",modelValue:h.value,"onUpdate:modelValue":e[5]||(e[5]=o=>h.value=o)},{default:l(()=>[D,a(s,{name:"0"},{default:l(()=>[O]),_:1}),q,a(s,{name:"1"},{default:l(()=>[G]),_:1}),a(s,{name:"2"},{default:l(()=>[F]),_:1})]),_:1},8,["modelValue"]),g("div",P,[a(_,{round:"",block:"",type:"primary","native-type":"submit"},{default:l(()=>[H]),_:1})])]),_:1})])}}};y(j).use(N).use(S).use(B).use(C).use(z).use(L).mount("#app");
