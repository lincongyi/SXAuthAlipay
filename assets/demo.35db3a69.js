import{r,h as I,e as u,o as T,c as N,f as o,w as l,u as k,i as w,a as x,d as f,g as C,B as M}from"./normalize.8d0c5acc.js";import{s as y,T as $}from"./index.a26c5586.js";import"./index.30870c90.js";import{F as z,a as B,C as S}from"./index.1a49c2fa.js";import{R as q,a as P}from"./index.49f10fdd.js";function G(m){return y({baseURL:"https://sfrz.wsbs.shxga.gov.cn",url:"/getaccesstoken",method:"get",params:m})}function L(m){return y({baseURL:"https://sfrz.wsbs.shxga.gov.cn",url:"/authreq",method:"post",data:m})}const O={class:"form-wrap"},A=x("div",{class:"radio-title"},"\u76F4\u63A5\u8DF3\u8F6C",-1),F=f("\u751F\u6D3B\u53F7"),j=x("div",{class:"radio-title"},"\u8DF3\u8F6C\u7A7A\u767D\u9875\u9762\u540E\u91CD\u5B9A\u5411",-1),E=f("\u751F\u6D3B\u53F7"),H=f("MINI PROGRAM"),D={style:{margin:"16px"}},J=f("\u63D0\u4EA4"),K={setup(m){const h=r("dabby_dev_al"),g=r("dabby_dev_al"),b=r(66),c=r(""),p=r(""),R=["H5","MINI"],V=r("2"),U=async()=>{let{accessToken:d}=await G({clientId:h.value,clientSecret:g.value}),e=location.href.indexOf("?")===-1?location.href:location.href.substring(0,location.href.indexOf("?")),t={accessToken:d,authType:"GzhRegular",mode:b.value,extraParams:{foreBackUrl:e},businessInfo:{subject:"\u8EAB\u4EFD\u9A8C\u8BC1"},idInfo:{fullName:c.value,idNum:p.value}},{tokenInfo:n}=await L(t),{certToken:s}=n,_=Number(V.value),i;if(_){let v=R[_-1];i=`https://sfrz.wsbs.shxga.gov.cn/authgzh/auth?certToken=${s}&env=${v}`}else i=`https://sfrz.wsbs.shxga.gov.cn/authlife/auth?certToken=${s}`;window.location.replace(i)};return I(()=>{let d=decodeURIComponent(window.location.href),e=d.substring(d.indexOf("?")+1);const n=new URLSearchParams(e).get("errorMsg");if(n)return $({message:`\u8BA4\u8BC1${n}`,forbidClick:!0})}),(d,e)=>{const t=u("van-field"),n=u("van-cell-group"),s=u("van-radio"),_=u("van-radio-group"),i=u("van-button"),v=u("van-form");return T(),N("div",O,[o(v,{onSubmit:U},{default:l(()=>[o(n,{inset:""},{default:l(()=>[o(t,{modelValue:h.value,"onUpdate:modelValue":e[0]||(e[0]=a=>h.value=a),name:"\u8D26\u53F7",label:"\u8D26\u53F7",placeholder:"\u8D26\u53F7",clearable:"",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u8D26\u53F7"}]},null,8,["modelValue"]),o(t,{modelValue:g.value,"onUpdate:modelValue":e[1]||(e[1]=a=>g.value=a),type:"clientSecret",name:"\u5BC6\u7801",label:"\u5BC6\u7801",placeholder:"\u5BC6\u7801",clearable:"",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5BC6\u7801"}]},null,8,["modelValue"]),o(t,{modelValue:b.value,"onUpdate:modelValue":e[2]||(e[2]=a=>b.value=a),name:"\u8BA4\u8BC1\u6A21\u5F0F",label:"\u8BA4\u8BC1\u6A21\u5F0F",placeholder:"\u8BA4\u8BC1\u6A21\u5F0F",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u8BA4\u8BC1\u6A21\u5F0F"}]},null,8,["modelValue"]),o(t,{modelValue:k(c),"onUpdate:modelValue":e[3]||(e[3]=a=>w(c)?c.value=a:null),name:"\u59D3\u540D",label:"\u59D3\u540D",maxlength:"18",placeholder:"\u59D3\u540D"},null,8,["modelValue"]),o(t,{modelValue:k(p),"onUpdate:modelValue":e[4]||(e[4]=a=>w(p)?p.value=a:null),name:"\u8BC1\u4EF6\u53F7\u7801",label:"\u8BC1\u4EF6\u53F7\u7801",maxlength:"18",placeholder:"\u8BC1\u4EF6\u53F7\u7801"},null,8,["modelValue"])]),_:1}),o(_,{class:"radio-box",modelValue:V.value,"onUpdate:modelValue":e[5]||(e[5]=a=>V.value=a)},{default:l(()=>[A,o(s,{name:"0"},{default:l(()=>[F]),_:1}),j,o(s,{name:"1"},{default:l(()=>[E]),_:1}),o(s,{name:"2"},{default:l(()=>[H]),_:1})]),_:1},8,["modelValue"]),x("div",D,[o(i,{round:"",block:"",type:"primary","native-type":"submit"},{default:l(()=>[J]),_:1})])]),_:1})])}}};C(K).use(M).use(z).use(B).use(S).use(q).use(P).mount("#app");
