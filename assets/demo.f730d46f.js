import{r as s,h as I,e as u,o as N,c as T,f as a,w as l,u as w,i as k,a as V,d as v,g as C,B as $}from"./normalize.fadf59aa.js";import{s as y}from"./index.2eb2a81b.js";import{F as q,a as z,C as B}from"./index.f8d87b21.js";import{R as M,a as S}from"./index.2fd2a143.js";import"./index.5729abc1.js";function G(m){return y({baseURL:"https://sfrz.wsbs.shxga.gov.cn",url:"/getaccesstoken",method:"get",params:m})}function L(m){return y({baseURL:"https://sfrz.wsbs.shxga.gov.cn",url:"/authreq",method:"post",data:m})}const A={class:"form-wrap"},F=V("div",{class:"radio-title"},"\u76F4\u63A5\u8DF3\u8F6C",-1),P=v("\u751F\u6D3B\u53F7"),O=V("div",{class:"radio-title"},"\u8DF3\u8F6C\u7A7A\u767D\u9875\u9762\u540E\u91CD\u5B9A\u5411",-1),j=v("\u751F\u6D3B\u53F7"),E=v("MINI PROGRAM"),H={style:{margin:"16px"}},D=v("\u63D0\u4EA4"),J={setup(m){const f=s("dabby_dev_al"),h=s("dabby_dev_al"),g=s(66),i=s(""),c=s(""),R=["H5","MINI"],b=s("2"),U=async()=>{let{accessToken:r}=await G({clientId:f.value,clientSecret:h.value}),e={accessToken:r,authType:"GzhRegular",mode:g.value,extraParams:{foreBackUrl:location.href},businessInfo:{subject:"\u8EAB\u4EFD\u9A8C\u8BC1"},idInfo:{fullName:i.value,idNum:c.value}},{tokenInfo:t}=await L(e),{certToken:p}=t,n=Number(b.value),d;if(n){let _=R[n-1];d=`https://sfrz.wsbs.shxga.gov.cn/authgzh/auth?certToken=${p}&env=${_}`}else d=`https://sfrz.wsbs.shxga.gov.cn/authlife/auth?certToken=${p}`;window.location.replace(d)};return I(()=>{let r=decodeURIComponent(window.location.href),e=r.substring(r.indexOf("?")+1);new URLSearchParams(e),console.log("query",e)}),(r,e)=>{const t=u("van-field"),p=u("van-cell-group"),n=u("van-radio"),d=u("van-radio-group"),_=u("van-button"),x=u("van-form");return N(),T("div",A,[a(x,{onSubmit:U},{default:l(()=>[a(p,{inset:""},{default:l(()=>[a(t,{modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=o=>f.value=o),name:"\u8D26\u53F7",label:"\u8D26\u53F7",placeholder:"\u8D26\u53F7",clearable:"",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u8D26\u53F7"}]},null,8,["modelValue"]),a(t,{modelValue:h.value,"onUpdate:modelValue":e[1]||(e[1]=o=>h.value=o),type:"clientSecret",name:"\u5BC6\u7801",label:"\u5BC6\u7801",placeholder:"\u5BC6\u7801",clearable:"",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5BC6\u7801"}]},null,8,["modelValue"]),a(t,{modelValue:g.value,"onUpdate:modelValue":e[2]||(e[2]=o=>g.value=o),name:"\u8BA4\u8BC1\u6A21\u5F0F",label:"\u8BA4\u8BC1\u6A21\u5F0F",placeholder:"\u8BA4\u8BC1\u6A21\u5F0F",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u8BA4\u8BC1\u6A21\u5F0F"}]},null,8,["modelValue"]),a(t,{modelValue:w(i),"onUpdate:modelValue":e[3]||(e[3]=o=>k(i)?i.value=o:null),name:"\u59D3\u540D",label:"\u59D3\u540D",maxlength:"18",placeholder:"\u59D3\u540D"},null,8,["modelValue"]),a(t,{modelValue:w(c),"onUpdate:modelValue":e[4]||(e[4]=o=>k(c)?c.value=o:null),name:"\u8BC1\u4EF6\u53F7\u7801",label:"\u8BC1\u4EF6\u53F7\u7801",maxlength:"18",placeholder:"\u8BC1\u4EF6\u53F7\u7801"},null,8,["modelValue"])]),_:1}),a(d,{class:"radio-box",modelValue:b.value,"onUpdate:modelValue":e[5]||(e[5]=o=>b.value=o)},{default:l(()=>[F,a(n,{name:"0"},{default:l(()=>[P]),_:1}),O,a(n,{name:"1"},{default:l(()=>[j]),_:1}),a(n,{name:"2"},{default:l(()=>[E]),_:1})]),_:1},8,["modelValue"]),V("div",H,[a(_,{round:"",block:"",type:"primary","native-type":"submit"},{default:l(()=>[D]),_:1})])]),_:1})])}}};C(J).use($).use(q).use(z).use(B).use(M).use(S).mount("#app");
